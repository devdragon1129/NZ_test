{"ast":null,"code":"'use strict';\n\nvar CID = require('cids');\n\nvar pull = require('pull-stream/pull');\n\nvar values = require('pull-stream/sources/values');\n\nvar error = require('pull-stream/sources/error');\n\nmodule.exports = function (cid, node, name, path, pathRest, resolve, size, dag, parent, depth) {\n  var newNode;\n\n  if (pathRest.length) {\n    var pathElem = pathRest[0];\n    newNode = node[pathElem];\n    var newName = path + '/' + pathElem;\n\n    if (!newNode) {\n      return error(new Error(\"not found\"));\n    }\n\n    var isCID = CID.isCID(newNode);\n    return pull(values([{\n      depth: depth,\n      name: pathElem,\n      path: newName,\n      pathRest: pathRest.slice(1),\n      multihash: isCID && newNode,\n      object: !isCID && newNode,\n      parent: parent\n    }]), resolve);\n  } else {\n    return error(new Error('invalid node type'));\n  }\n};","map":null,"metadata":{},"sourceType":"script"}