{"ast":null,"code":"import _toConsumableArray from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils';\nimport { setGizmo, togglePreview, toggleSidebar, editorUndo, editorRedo, resetCamera, zoomIn, zoomOut, toggleSnapToGrid, toggleMultiselection } from 'modules/editor/actions';\nimport { resetItem, duplicateItem, deleteItem } from 'modules/scene/actions';\nimport { isPreviewing, isSidebarOpen, getGizmo } from 'modules/editor/selectors';\nimport { getCurrentProject } from 'modules/project/selectors';\nimport { toggleModal, openModal } from 'modules/modal/actions';\nimport { Shortcut } from './types';\nimport { Gizmo } from 'modules/editor/types';\nvar COMMAND_KEY = 'command';\nvar CONTROL_KEY = 'ctrl';\nexport var SpecialKeys = {\n  OSCTRL: isMac() ? COMMAND_KEY : CONTROL_KEY,\n  SHIFT: 'shift',\n  SPACE: 'space',\n  DELETE: 'del',\n  BACKSPACE: 'backspace'\n};\nexport var getQwertyLayout = function getQwertyLayout() {\n  var _ref;\n\n  return _ref = {}, _defineProperty(_ref, Shortcut.MOVE, {\n    type: 'simple',\n    value: 'w',\n    title: t('shortcuts.move')\n  }), _defineProperty(_ref, Shortcut.ROTATE, {\n    type: 'simple',\n    value: 'e',\n    title: t('shortcuts.rotate')\n  }), _defineProperty(_ref, Shortcut.SCALE, {\n    type: 'simple',\n    value: 'r',\n    title: t('shortcuts.scale')\n  }), _defineProperty(_ref, Shortcut.RESET_ITEM, {\n    type: 'simple',\n    value: 's',\n    title: t('shortcuts.reset')\n  }), _defineProperty(_ref, Shortcut.DUPLICATE_ITEM, {\n    type: 'simple',\n    value: 'd',\n    title: t('shortcuts.duplicate')\n  }), _defineProperty(_ref, Shortcut.PREVIEW, {\n    type: 'simple',\n    value: 'i',\n    title: t('shortcuts.preview')\n  }), _defineProperty(_ref, Shortcut.TOGGLE_SIDEBAR, {\n    type: 'simple',\n    value: 'p',\n    title: t('shortcuts.toggle_sidebar')\n  }), _defineProperty(_ref, Shortcut.DELETE_ITEM, {\n    type: 'alternative',\n    value: [{\n      type: 'simple',\n      value: SpecialKeys.DELETE,\n      title: null\n    }, {\n      type: 'simple',\n      value: SpecialKeys.BACKSPACE,\n      title: null\n    }],\n    title: t('shortcuts.delete')\n  }), _defineProperty(_ref, Shortcut.UNDO, {\n    type: 'combination',\n    value: [SpecialKeys.OSCTRL, 'z'],\n    title: t('shortcuts.undo')\n  }), _defineProperty(_ref, Shortcut.REDO, {\n    type: 'combination',\n    value: [SpecialKeys.OSCTRL, SpecialKeys.SHIFT, 'z'],\n    title: t('shortcuts.redo')\n  }), _defineProperty(_ref, Shortcut.SHORTCUTS, {\n    type: 'simple',\n    value: '?',\n    title: t('shortcuts.shortcut_reference')\n  }), _defineProperty(_ref, Shortcut.RESET_CAMERA, {\n    type: 'simple',\n    value: SpecialKeys.SPACE,\n    title: t('shortcuts.reset_camera')\n  }), _defineProperty(_ref, Shortcut.ZOOM_IN, {\n    type: 'alternative',\n    value: [{\n      type: 'simple',\n      value: '+',\n      title: null\n    }, {\n      type: 'simple',\n      value: '=',\n      title: null\n    }],\n    title: t('shortcuts.zoom_in')\n  }), _defineProperty(_ref, Shortcut.ZOOM_OUT, {\n    type: 'alternative',\n    value: [{\n      type: 'simple',\n      value: '-',\n      title: null\n    }, {\n      type: 'simple',\n      value: '_',\n      title: null\n    }],\n    title: t('shortcuts.zoom_out')\n  }), _defineProperty(_ref, Shortcut.TOGGLE_SNAP_TO_GRID, {\n    type: 'simple',\n    value: 'shift',\n    title: t('shortcuts.precision'),\n    hold: true\n  }), _defineProperty(_ref, Shortcut.EXPORT_SCENE, {\n    type: 'simple',\n    value: 'o',\n    title: t('shortcuts.export')\n  }), _defineProperty(_ref, Shortcut.TOGGLE_MULTISELECTION, {\n    type: 'simple',\n    value: 'ctrl',\n    title: t('shortcuts.multiselect'),\n    hold: true\n  }), _ref;\n};\nexport function isMac() {\n  if (navigator.platform === 'MacIntel') return true;\n  return false;\n}\nexport function mapLabel(label) {\n  if (label === 'command') {\n    return 'âŒ˜';\n  }\n\n  return label;\n}\nexport function getLibraryComplatibleShortcut(shortcut) {\n  if (shortcut.type === 'alternative') {\n    return [getLibraryComplatibleShortcut(shortcut.value[0])[0], getLibraryComplatibleShortcut(shortcut.value[1])[0]];\n  }\n\n  if (shortcut.type === 'combination') {\n    return [shortcut.value.join('+')];\n  } // It's of type 'simple'\n\n\n  return [shortcut.value];\n}\nexport function getEditorShortcuts(store) {\n  var qwertyLayout = getQwertyLayout();\n  return [{\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.MOVE]),\n    callback: function callback() {\n      return store.dispatch(setGizmo(getGizmo(store.getState()) === Gizmo.MOVE ? Gizmo.NONE : Gizmo.MOVE));\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.ROTATE]),\n    callback: function callback() {\n      return store.dispatch(setGizmo(getGizmo(store.getState()) === Gizmo.ROTATE ? Gizmo.NONE : Gizmo.ROTATE));\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.SCALE]),\n    callback: function callback() {\n      return store.dispatch(setGizmo(getGizmo(store.getState()) === Gizmo.SCALE ? Gizmo.NONE : Gizmo.SCALE));\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.RESET_ITEM]),\n    callback: function callback() {\n      return store.dispatch(resetItem());\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.DUPLICATE_ITEM]),\n    callback: function callback() {\n      return store.dispatch(duplicateItem());\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.PREVIEW]),\n    callback: function callback() {\n      return store.dispatch(togglePreview(!isPreviewing(store.getState())));\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_SIDEBAR]),\n    callback: function callback() {\n      return store.dispatch(toggleSidebar(!isSidebarOpen(store.getState())));\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.DELETE_ITEM]),\n    callback: function callback() {\n      return store.dispatch(deleteItem());\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.UNDO]),\n    callback: function callback() {\n      return store.dispatch(editorUndo());\n    },\n    action: 'keydown'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.REDO]),\n    callback: function callback() {\n      return store.dispatch(editorRedo());\n    },\n    action: 'keydown'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.SHORTCUTS]),\n    callback: function callback() {\n      return store.dispatch(toggleModal('ShortcutsModal'));\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.RESET_CAMERA]),\n    callback: function callback() {\n      return store.dispatch(resetCamera());\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.ZOOM_IN]),\n    callback: function callback() {\n      return store.dispatch(zoomIn());\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.ZOOM_OUT]),\n    callback: function callback() {\n      return store.dispatch(zoomOut());\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_SNAP_TO_GRID]),\n    callback: function callback() {\n      return store.dispatch(toggleSnapToGrid(false));\n    },\n    action: 'keydown'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_SNAP_TO_GRID]),\n    callback: function callback() {\n      return store.dispatch(toggleSnapToGrid(true));\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.EXPORT_SCENE]),\n    callback: function callback() {\n      return store.dispatch(openModal('ExportModal', {\n        project: getCurrentProject(store.getState())\n      }));\n    },\n    action: 'keyup'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_MULTISELECTION]),\n    callback: function callback() {\n      return store.dispatch(toggleMultiselection(true));\n    },\n    action: 'keydown'\n  }, {\n    combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_MULTISELECTION]),\n    callback: function callback() {\n      return store.dispatch(toggleMultiselection(false));\n    },\n    action: 'keyup'\n  }];\n}\nexport var ShortcutRenderer = /*#__PURE__*/function () {\n  function ShortcutRenderer() {\n    var _this = this;\n\n    _classCallCheck(this, ShortcutRenderer);\n\n    this.renderAlternative = function (shortcut, onlyFirst) {\n      var alternatives = shortcut.value;\n      var out = [];\n\n      if (onlyFirst) {\n        var item = alternatives[0];\n\n        if (item.type === 'combination') {\n          out = [].concat(_toConsumableArray(out), _toConsumableArray(_this.renderCombination(item)));\n        } else {\n          out.push(_this.renderShortcut(item));\n        }\n      } else {\n        for (var i = 0; i < alternatives.length; i++) {\n          var _item = alternatives[i];\n\n          if (_item.type === 'combination') {\n            out = [].concat(_toConsumableArray(out), _toConsumableArray(_this.renderCombination(_item)));\n          } else {\n            out.push(_this.renderShortcut(_item));\n          }\n\n          if (i === 0) {\n            out.push(_this.renderOr());\n          }\n        }\n      }\n\n      return out;\n    };\n  }\n\n  _createClass(ShortcutRenderer, [{\n    key: \"renderCombination\",\n    value: function renderCombination(shortcut) {\n      var out = [];\n\n      for (var i = 0; i < shortcut.value.length; i++) {\n        var simple = {\n          type: 'simple',\n          value: shortcut.value[i],\n          title: shortcut.title\n        };\n        out.push(this.renderShortcut(simple));\n\n        if (i !== shortcut.value.length - 1) {\n          out.push(this.renderPlus(i));\n        }\n      }\n\n      return out;\n    }\n  }, {\n    key: \"renderSimple\",\n    value: function renderSimple(shortcut) {\n      var out = [];\n\n      if (shortcut.hold) {\n        out.push(this.renderHold());\n      }\n\n      out.push(this.renderShortcut(shortcut));\n      return out;\n    }\n  }]);\n\n  return ShortcutRenderer;\n}();","map":{"version":3,"sources":["/opt/work/NZ_test/src/modules/keyboard/utils.ts"],"names":["t","setGizmo","togglePreview","toggleSidebar","editorUndo","editorRedo","resetCamera","zoomIn","zoomOut","toggleSnapToGrid","toggleMultiselection","resetItem","duplicateItem","deleteItem","isPreviewing","isSidebarOpen","getGizmo","getCurrentProject","toggleModal","openModal","Shortcut","Gizmo","COMMAND_KEY","CONTROL_KEY","SpecialKeys","OSCTRL","isMac","SHIFT","SPACE","DELETE","BACKSPACE","getQwertyLayout","MOVE","type","value","title","ROTATE","SCALE","RESET_ITEM","DUPLICATE_ITEM","PREVIEW","TOGGLE_SIDEBAR","DELETE_ITEM","UNDO","REDO","SHORTCUTS","RESET_CAMERA","ZOOM_IN","ZOOM_OUT","TOGGLE_SNAP_TO_GRID","hold","EXPORT_SCENE","TOGGLE_MULTISELECTION","navigator","platform","mapLabel","label","getLibraryComplatibleShortcut","shortcut","join","getEditorShortcuts","store","qwertyLayout","combination","callback","dispatch","getState","NONE","action","project","ShortcutRenderer","renderAlternative","onlyFirst","alternatives","out","item","renderCombination","push","renderShortcut","i","length","renderOr","simple","renderPlus","renderHold"],"mappings":"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","sourcesContent":["import { Store } from 'redux'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport {\n  setGizmo,\n  togglePreview,\n  toggleSidebar,\n  editorUndo,\n  editorRedo,\n  resetCamera,\n  zoomIn,\n  zoomOut,\n  toggleSnapToGrid,\n  toggleMultiselection\n} from 'modules/editor/actions'\nimport { resetItem, duplicateItem, deleteItem } from 'modules/scene/actions'\nimport { isPreviewing, isSidebarOpen, getGizmo } from 'modules/editor/selectors'\nimport { getCurrentProject } from 'modules/project/selectors'\nimport { toggleModal, openModal } from 'modules/modal/actions'\nimport {\n  ShortcutDefinition,\n  Shortcut,\n  ShortcutLayout,\n  ShortcutCombination,\n  SimpleShortcut,\n  ShortcutAlternative,\n  KeyboardShortcut\n} from './types'\nimport { Gizmo } from 'modules/editor/types'\n\nconst COMMAND_KEY = 'command'\nconst CONTROL_KEY = 'ctrl'\n\nexport const SpecialKeys = {\n  OSCTRL: isMac() ? COMMAND_KEY : CONTROL_KEY,\n  SHIFT: 'shift',\n  SPACE: 'space',\n  DELETE: 'del',\n  BACKSPACE: 'backspace'\n}\n\nexport const getQwertyLayout = (): ShortcutLayout => ({\n  [Shortcut.MOVE]: { type: 'simple', value: 'w', title: t('shortcuts.move') },\n  [Shortcut.ROTATE]: { type: 'simple', value: 'e', title: t('shortcuts.rotate') },\n  [Shortcut.SCALE]: { type: 'simple', value: 'r', title: t('shortcuts.scale') },\n  [Shortcut.RESET_ITEM]: { type: 'simple', value: 's', title: t('shortcuts.reset') },\n  [Shortcut.DUPLICATE_ITEM]: { type: 'simple', value: 'd', title: t('shortcuts.duplicate') },\n  [Shortcut.PREVIEW]: { type: 'simple', value: 'i', title: t('shortcuts.preview') },\n  [Shortcut.TOGGLE_SIDEBAR]: { type: 'simple', value: 'p', title: t('shortcuts.toggle_sidebar') },\n  [Shortcut.DELETE_ITEM]: {\n    type: 'alternative',\n    value: [{ type: 'simple', value: SpecialKeys.DELETE, title: null }, { type: 'simple', value: SpecialKeys.BACKSPACE, title: null }],\n    title: t('shortcuts.delete')\n  },\n  [Shortcut.UNDO]: { type: 'combination', value: [SpecialKeys.OSCTRL, 'z'], title: t('shortcuts.undo') },\n  [Shortcut.REDO]: { type: 'combination', value: [SpecialKeys.OSCTRL, SpecialKeys.SHIFT, 'z'], title: t('shortcuts.redo') },\n  [Shortcut.SHORTCUTS]: { type: 'simple', value: '?', title: t('shortcuts.shortcut_reference') },\n  [Shortcut.RESET_CAMERA]: { type: 'simple', value: SpecialKeys.SPACE, title: t('shortcuts.reset_camera') },\n  [Shortcut.ZOOM_IN]: {\n    type: 'alternative',\n    value: [{ type: 'simple', value: '+', title: null }, { type: 'simple', value: '=', title: null }],\n    title: t('shortcuts.zoom_in')\n  },\n  [Shortcut.ZOOM_OUT]: {\n    type: 'alternative',\n    value: [{ type: 'simple', value: '-', title: null }, { type: 'simple', value: '_', title: null }],\n    title: t('shortcuts.zoom_out')\n  },\n  [Shortcut.TOGGLE_SNAP_TO_GRID]: {\n    type: 'simple',\n    value: 'shift',\n    title: t('shortcuts.precision'),\n    hold: true\n  },\n  [Shortcut.EXPORT_SCENE]: {\n    type: 'simple',\n    value: 'o',\n    title: t('shortcuts.export')\n  },\n  [Shortcut.TOGGLE_MULTISELECTION]: {\n    type: 'simple',\n    value: 'ctrl',\n    title: t('shortcuts.multiselect'),\n    hold: true\n  }\n})\n\nexport function isMac(): boolean {\n  if (navigator.platform === 'MacIntel') return true\n  return false\n}\n\nexport function mapLabel(label: string): string {\n  if (label === 'command') {\n    return 'âŒ˜'\n  }\n\n  return label\n}\n\nexport function getLibraryComplatibleShortcut(shortcut: ShortcutDefinition): string[] {\n  if (shortcut.type === 'alternative') {\n    return [getLibraryComplatibleShortcut(shortcut.value[0])[0], getLibraryComplatibleShortcut(shortcut.value[1])[0]]\n  }\n\n  if (shortcut.type === 'combination') {\n    return [shortcut.value.join('+')]\n  }\n\n  // It's of type 'simple'\n  return [shortcut.value]\n}\n\nexport function getEditorShortcuts(store: Store): KeyboardShortcut[] {\n  const qwertyLayout = getQwertyLayout()\n  return [\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.MOVE]),\n      callback: () => store.dispatch(setGizmo(getGizmo(store.getState()) === Gizmo.MOVE ? Gizmo.NONE : Gizmo.MOVE)),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.ROTATE]),\n      callback: () => store.dispatch(setGizmo(getGizmo(store.getState()) === Gizmo.ROTATE ? Gizmo.NONE : Gizmo.ROTATE)),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.SCALE]),\n      callback: () => store.dispatch(setGizmo(getGizmo(store.getState()) === Gizmo.SCALE ? Gizmo.NONE : Gizmo.SCALE)),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.RESET_ITEM]),\n      callback: () => store.dispatch(resetItem()),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.DUPLICATE_ITEM]),\n      callback: () => store.dispatch(duplicateItem()),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.PREVIEW]),\n      callback: () => store.dispatch(togglePreview(!isPreviewing(store.getState()))),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_SIDEBAR]),\n      callback: () => store.dispatch(toggleSidebar(!isSidebarOpen(store.getState()))),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.DELETE_ITEM]),\n      callback: () => store.dispatch(deleteItem()),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.UNDO]),\n      callback: () => store.dispatch(editorUndo()),\n      action: 'keydown'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.REDO]),\n      callback: () => store.dispatch(editorRedo()),\n      action: 'keydown'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.SHORTCUTS]),\n      callback: () => store.dispatch(toggleModal('ShortcutsModal')),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.RESET_CAMERA]),\n      callback: () => store.dispatch(resetCamera()),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.ZOOM_IN]),\n      callback: () => store.dispatch(zoomIn()),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.ZOOM_OUT]),\n      callback: () => store.dispatch(zoomOut()),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_SNAP_TO_GRID]),\n      callback: () => store.dispatch(toggleSnapToGrid(false)),\n      action: 'keydown'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_SNAP_TO_GRID]),\n      callback: () => store.dispatch(toggleSnapToGrid(true)),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.EXPORT_SCENE]),\n      callback: () => store.dispatch(openModal('ExportModal', { project: getCurrentProject(store.getState()) })),\n      action: 'keyup'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_MULTISELECTION]),\n      callback: () => store.dispatch(toggleMultiselection(true)),\n      action: 'keydown'\n    },\n    {\n      combination: getLibraryComplatibleShortcut(qwertyLayout[Shortcut.TOGGLE_MULTISELECTION]),\n      callback: () => store.dispatch(toggleMultiselection(false)),\n      action: 'keyup'\n    }\n  ]\n}\n\nexport abstract class ShortcutRenderer {\n  renderCombination(shortcut: ShortcutCombination) {\n    let out: (JSX.Element | string)[] = []\n\n    for (let i = 0; i < shortcut.value.length; i++) {\n      const simple: SimpleShortcut = { type: 'simple', value: shortcut.value[i], title: shortcut.title }\n      out.push(this.renderShortcut(simple))\n\n      if (i !== shortcut.value.length - 1) {\n        out.push(this.renderPlus(i))\n      }\n    }\n\n    return out\n  }\n\n  renderAlternative = (shortcut: ShortcutAlternative, onlyFirst?: boolean) => {\n    const alternatives = shortcut.value as Array<SimpleShortcut | ShortcutCombination>\n    let out: (JSX.Element | string)[] = []\n\n    if (onlyFirst) {\n      const item = alternatives[0]\n      if (item.type === 'combination') {\n        out = [...out, ...this.renderCombination(item)]\n      } else {\n        out.push(this.renderShortcut(item))\n      }\n    } else {\n      for (let i = 0; i < alternatives.length; i++) {\n        const item = alternatives[i]\n        if (item.type === 'combination') {\n          out = [...out, ...this.renderCombination(item)]\n        } else {\n          out.push(this.renderShortcut(item))\n        }\n\n        if (i === 0) {\n          out.push(this.renderOr())\n        }\n      }\n    }\n\n    return out\n  }\n\n  renderSimple(shortcut: SimpleShortcut) {\n    let out = []\n\n    if (shortcut.hold) {\n      out.push(this.renderHold())\n    }\n    out.push(this.renderShortcut(shortcut))\n\n    return out\n  }\n\n  abstract renderShortcut(shortcut: SimpleShortcut): JSX.Element | string\n  abstract renderPlus(key: number): JSX.Element | string\n  abstract renderOr(): JSX.Element | string\n  abstract renderHold(): JSX.Element | string\n}\n"]},"metadata":{},"sourceType":"module"}