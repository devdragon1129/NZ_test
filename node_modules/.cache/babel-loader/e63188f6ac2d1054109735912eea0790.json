{"ast":null,"code":"import _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/MobilePage/MobilePage.tsx\";\nimport * as React from 'react';\nimport isMobile from 'ismobilejs';\nimport { Button, Hero, Header, Page } from 'decentraland-ui';\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils';\nimport { getLocalStorage } from 'decentraland-dapps/dist/lib/localStorage';\nimport { getAnalytics } from 'decentraland-dapps/dist/modules/analytics/utils';\nimport MobilePageHero from 'components/MobilePageHero/MobilePageHero';\nimport Footer from 'components/Footer';\nimport Navbar from 'components/Navbar';\nimport { newsletter, EMAIL_INTEREST } from 'lib/api/newsletter';\nimport './MobilePage.css';\nvar localStorage = getLocalStorage();\n\nvar MobilePage = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(MobilePage, _React$PureComponent);\n\n  function MobilePage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MobilePage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MobilePage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: '',\n      isLoading: false\n    };\n    _this.analytics = getAnalytics();\n\n    _this.handleEmailChange = function (event) {\n      var email = event.currentTarget.value;\n\n      _this.setState({\n        email: email\n      });\n    };\n\n    _this.handleSecondaryAction = function () {\n      window.open(\"mailto:?subject=\".concat(t('mobile_page.reminder_subject'), \"&body=\").concat(encodeURIComponent(t('mobile_page.reminder_body'))));\n    };\n\n    _this.handleOpenVideo = function () {\n      return window.open('https://youtu.be/H8Fj72JobKo');\n    };\n\n    _this.handleSubmit = function () {\n      var email = _this.state.email;\n\n      _this.setState({\n        isLoading: true\n      });\n\n      _this.analytics.identify({\n        email: email\n      }, function () {\n        newsletter.reportEmail(email, EMAIL_INTEREST.MOBILE).catch(function () {\n          return console.error('Unable to submit email, something went wrong!');\n        });\n        localStorage.setItem('mobile-email', email);\n\n        _this.setState({\n          isLoading: false\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MobilePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.body.classList.add('mobile-body');\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.body.classList.remove('mobile-body');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          email = _this$state.email,\n          isLoading = _this$state.isLoading;\n      var hasMobileEmail = !!localStorage.getItem('mobile-email');\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n        isFullscreen: true,\n        isOverlay: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Page, {\n        isFullscreen: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"MobilePage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(MobilePageHero, {\n        email: email,\n        hasMobileEmail: hasMobileEmail,\n        isLoading: isLoading,\n        onSubmit: this.handleSubmit,\n        onChange: this.handleEmailChange,\n        onWatchVideo: this.handleOpenVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        size: \"huge\",\n        textAlign: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }\n      }, t('mobile_page.gallery_title')), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"thumbnail-column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"thumbnail thumb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"thumbnail thumb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"thumbnail thumb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"thumbnail thumb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }))), isMobile().any ? /*#__PURE__*/React.createElement(Hero, {\n        className: \"secondary-hero\",\n        centered: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Hero.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }\n      }, t('mobile_page.secondary_hero.title')), /*#__PURE__*/React.createElement(Hero.Actions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        primary: true,\n        size: \"medium\",\n        disabled: isLoading,\n        onClick: this.handleSecondaryAction,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }\n      }, t('mobile_page.secondary_hero.action'))), /*#__PURE__*/React.createElement(Hero.Content, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"background\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 19\n        }\n      }))) : null)), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return MobilePage;\n}(React.PureComponent);\n\nexport { MobilePage as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/MobilePage/MobilePage.tsx"],"names":["React","isMobile","Button","Hero","Header","Page","t","getLocalStorage","getAnalytics","MobilePageHero","Footer","Navbar","newsletter","EMAIL_INTEREST","localStorage","MobilePage","state","email","isLoading","analytics","handleEmailChange","event","currentTarget","value","setState","handleSecondaryAction","window","open","encodeURIComponent","handleOpenVideo","handleSubmit","identify","reportEmail","MOBILE","catch","console","error","setItem","document","body","classList","add","remove","hasMobileEmail","getItem","any","PureComponent"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport isMobile from 'ismobilejs'\nimport { Button, Hero, Header, Page } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { getLocalStorage } from 'decentraland-dapps/dist/lib/localStorage'\nimport { getAnalytics } from 'decentraland-dapps/dist/modules/analytics/utils'\nimport MobilePageHero from 'components/MobilePageHero/MobilePageHero'\nimport Footer from 'components/Footer'\nimport Navbar from 'components/Navbar'\nimport { newsletter, EMAIL_INTEREST } from 'lib/api/newsletter'\n\nimport { Props, State } from './MobilePage.types'\nimport './MobilePage.css'\n\nconst localStorage = getLocalStorage()\n\nexport default class MobilePage extends React.PureComponent<Props, State> {\n  state = {\n    email: '',\n    isLoading: false\n  }\n\n  analytics = getAnalytics()\n\n  componentDidMount() {\n    document.body.classList.add('mobile-body')\n  }\n\n  componentWillUnmount() {\n    document.body.classList.remove('mobile-body')\n  }\n\n  handleEmailChange = (event: React.FormEvent<HTMLInputElement>) => {\n    const email = event.currentTarget.value\n    this.setState({ email })\n  }\n\n  handleSecondaryAction = () => {\n    window.open(`mailto:?subject=${t('mobile_page.reminder_subject')}&body=${encodeURIComponent(t('mobile_page.reminder_body'))}`)\n  }\n\n  handleOpenVideo = () => window.open('https://youtu.be/H8Fj72JobKo')\n\n  handleSubmit = () => {\n    const { email } = this.state\n\n    this.setState({ isLoading: true })\n\n    this.analytics.identify({ email }, () => {\n      newsletter.reportEmail(email, EMAIL_INTEREST.MOBILE).catch(() => console.error('Unable to submit email, something went wrong!'))\n      localStorage.setItem('mobile-email', email)\n      this.setState({ isLoading: false })\n    })\n  }\n\n  render() {\n    const { email, isLoading } = this.state\n    const hasMobileEmail = !!localStorage.getItem('mobile-email')\n\n    return (\n      <>\n        <Navbar isFullscreen isOverlay />\n        <Page isFullscreen>\n          <div className=\"MobilePage\">\n            <MobilePageHero\n              email={email}\n              hasMobileEmail={hasMobileEmail}\n              isLoading={isLoading}\n              onSubmit={this.handleSubmit}\n              onChange={this.handleEmailChange}\n              onWatchVideo={this.handleOpenVideo}\n            />\n\n            <div className=\"gallery\">\n              <Header size=\"huge\" textAlign=\"center\">\n                {t('mobile_page.gallery_title')}\n              </Header>\n              <div className=\"thumbnail-column\">\n                <div className=\"thumbnail thumb-1\" />\n                <div className=\"thumbnail thumb-2\" />\n                <div className=\"thumbnail thumb-3\" />\n                <div className=\"thumbnail thumb-4\" />\n              </div>\n            </div>\n\n            {isMobile().any ? (\n              <Hero className=\"secondary-hero\" centered>\n                <Hero.Header>{t('mobile_page.secondary_hero.title')}</Hero.Header>\n                <Hero.Actions>\n                  <Button primary size=\"medium\" disabled={isLoading} onClick={this.handleSecondaryAction}>\n                    {t('mobile_page.secondary_hero.action')}\n                  </Button>\n                </Hero.Actions>\n                <Hero.Content>\n                  <div className=\"background\" />\n                </Hero.Content>\n              </Hero>\n            ) : null}\n          </div>\n        </Page>\n        <Footer />\n      </>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}