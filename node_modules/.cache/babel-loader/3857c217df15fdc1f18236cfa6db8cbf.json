{"ast":null,"code":"import _objectSpread from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/Modals/ContestModal/Countdown/Countdown.tsx\";\nimport * as React from 'react';\nimport { Time } from './Countdown.types';\nimport './Countdown.css';\n\nvar Countdown = /*#__PURE__*/function (_React$Component) {\n  _inherits(Countdown, _React$Component);\n\n  function Countdown() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Countdown);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Countdown)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      timeout: null,\n      diff: 0,\n      days: 0,\n      hours: 0,\n      minutes: 0,\n      seconds: 0\n    };\n\n    _this.setCountdownState = function () {\n      var newState = _this.calculateCountDown();\n\n      var timeout = newState.diff ? setTimeout(function () {\n        return _this.setCountdownState();\n      }, Date.now() % 1000) : null;\n\n      _this.setState(_objectSpread({}, newState, {\n        timeout: timeout\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(Countdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setCountdownState();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.timeout) {\n        clearTimeout(this.state.timeout);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var currentUntil = this.props.until && this.props.until.getTime();\n      var nextUntil = nextProps.until && nextProps.until.getTime();\n      return currentUntil !== nextUntil || this.state !== nextState;\n    }\n  }, {\n    key: \"calculateCountDown\",\n    value: function calculateCountDown() {\n      var until = this.props.until;\n      var diff = Math.max(until.getTime() - Date.now(), 0);\n      var seconds = Math.floor(diff % Time.Minute / Time.Second);\n      var minutes = Math.floor(diff % Time.Hour / Time.Minute);\n      var hours = Math.floor(diff % Time.Day / Time.Hour);\n      var days = Math.floor(diff / Time.Day);\n      return {\n        days: days,\n        hours: hours,\n        minutes: minutes,\n        seconds: seconds,\n        diff: diff\n      };\n    }\n  }, {\n    key: \"getDigit\",\n    value: function getDigit(value) {\n      if (value < 10) {\n        return '0' + String(value);\n      }\n\n      return String(value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          days = _this$state.days,\n          hours = _this$state.hours,\n          minutes = _this$state.minutes,\n          seconds = _this$state.seconds;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Countdown\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"CountdownDigit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, \"DAYS\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, this.getDigit(days))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"CountdownDigit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, \"HOURS\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, this.getDigit(hours))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }, ':'), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"CountdownDigit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }\n      }, \"MIN\"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 48\n        }\n      }, this.getDigit(minutes))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }, ':'), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"CountdownDigit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }, \"SEC\"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 48\n        }\n      }, this.getDigit(seconds))));\n    }\n  }]);\n\n  return Countdown;\n}(React.Component);\n\nexport { Countdown as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/Modals/ContestModal/Countdown/Countdown.tsx"],"names":["React","Time","Countdown","state","timeout","diff","days","hours","minutes","seconds","setCountdownState","newState","calculateCountDown","setTimeout","Date","now","setState","clearTimeout","nextProps","nextState","currentUntil","props","until","getTime","nextUntil","Math","max","floor","Minute","Second","Hour","Day","value","String","getDigit","Component"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { Props, State, Time } from './Countdown.types'\n\nimport './Countdown.css'\n\nexport default class Countdown extends React.Component<Props, State> {\n  state: State = {\n    timeout: null,\n    diff: 0,\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0\n  }\n\n  componentDidMount() {\n    this.setCountdownState()\n  }\n\n  componentWillUnmount() {\n    if (this.state.timeout) {\n      clearTimeout(this.state.timeout)\n    }\n  }\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    const currentUntil = this.props.until && this.props.until.getTime()\n    const nextUntil = nextProps.until && nextProps.until.getTime()\n    return currentUntil !== nextUntil || this.state !== nextState\n  }\n\n  calculateCountDown() {\n    const { until } = this.props\n    const diff = Math.max(until.getTime() - Date.now(), 0)\n    const seconds = Math.floor((diff % Time.Minute) / Time.Second)\n    const minutes = Math.floor((diff % Time.Hour) / Time.Minute)\n    const hours = Math.floor((diff % Time.Day) / Time.Hour)\n    const days = Math.floor(diff / Time.Day)\n    return { days, hours, minutes, seconds, diff }\n  }\n\n  setCountdownState = () => {\n    const newState = this.calculateCountDown()\n    const timeout = newState.diff ? setTimeout(() => this.setCountdownState(), Date.now() % 1000) : null\n    this.setState({\n      ...newState,\n      timeout\n    })\n  }\n\n  getDigit(value: number): string {\n    if (value < 10) {\n      return '0' + String(value)\n    }\n\n    return String(value)\n  }\n\n  render() {\n    const { days, hours, minutes, seconds } = this.state\n\n    return (\n      <div className=\"Countdown\">\n        <div className=\"CountdownDigit\">\n          <div className=\"secondary\">DAYS</div>\n          <div>{this.getDigit(days)}</div>\n        </div>\n        <div className=\"secondary\"> </div>\n        <div className=\"CountdownDigit\">\n          <div className=\"secondary\">HOURS</div>\n          <div>{this.getDigit(hours)}</div>\n        </div>\n        <div className=\"secondary\">{':'}</div>\n        <div className=\"CountdownDigit\">\n          <div className=\"secondary\">MIN</div> <div>{this.getDigit(minutes)}</div>\n        </div>\n        <div className=\"secondary\">{':'}</div>\n        <div className=\"CountdownDigit\">\n          <div className=\"secondary\">SEC</div> <div>{this.getDigit(seconds)}</div>\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}