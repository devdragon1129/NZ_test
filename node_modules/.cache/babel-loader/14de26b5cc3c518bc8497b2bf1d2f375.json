{"ast":null,"code":"import _defineProperty from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { loadingReducer } from 'decentraland-dapps/dist/modules/loading/reducer';\nimport { CurationStatus } from '../types';\nimport { APPROVE_COLLECTION_CURATION_FAILURE, APPROVE_COLLECTION_CURATION_REQUEST, APPROVE_COLLECTION_CURATION_SUCCESS, FETCH_COLLECTION_CURATIONS_FAILURE, FETCH_COLLECTION_CURATIONS_REQUEST, FETCH_COLLECTION_CURATIONS_SUCCESS, FETCH_COLLECTION_CURATION_FAILURE, FETCH_COLLECTION_CURATION_REQUEST, FETCH_COLLECTION_CURATION_SUCCESS, PUSH_COLLECTION_CURATION_FAILURE, PUSH_COLLECTION_CURATION_REQUEST, PUSH_COLLECTION_CURATION_SUCCESS, REJECT_COLLECTION_CURATION_FAILURE, REJECT_COLLECTION_CURATION_REQUEST, REJECT_COLLECTION_CURATION_SUCCESS, SET_COLLECTION_CURATION_ASSIGNEE_SUCCESS, SET_COLLECTION_CURATION_ASSIGNEE_REQUEST, SET_COLLECTION_CURATION_ASSIGNEE_FAILURE } from './actions';\nexport var INITIAL_STATE = {\n  data: {},\n  loading: [],\n  error: null\n};\nexport function collectionCurationReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FETCH_COLLECTION_CURATIONS_REQUEST:\n    case FETCH_COLLECTION_CURATION_REQUEST:\n    case PUSH_COLLECTION_CURATION_REQUEST:\n    case APPROVE_COLLECTION_CURATION_REQUEST:\n    case REJECT_COLLECTION_CURATION_REQUEST:\n    case SET_COLLECTION_CURATION_ASSIGNEE_REQUEST:\n      return _objectSpread({}, state, {\n        loading: loadingReducer(state.loading, action)\n      });\n\n    case FETCH_COLLECTION_CURATIONS_SUCCESS:\n      var curations = action.payload.curations;\n      return _objectSpread({}, state, {\n        loading: loadingReducer(state.loading, action),\n        data: curations.reduce(function (acc, curation) {\n          return _objectSpread({}, acc, _defineProperty({}, curation.collectionId, curation));\n        }, {}),\n        error: null\n      });\n\n    case SET_COLLECTION_CURATION_ASSIGNEE_SUCCESS:\n    case FETCH_COLLECTION_CURATION_SUCCESS:\n      var _action$payload = action.payload,\n          collectionId = _action$payload.collectionId,\n          curation = _action$payload.curation;\n\n      var data = _objectSpread({}, state.data);\n\n      if (!curation) {\n        delete data[collectionId];\n      } else {\n        data[collectionId] = curation;\n      }\n\n      return _objectSpread({}, state, {\n        data: data,\n        loading: loadingReducer(state.loading, action),\n        error: null\n      });\n\n    case APPROVE_COLLECTION_CURATION_SUCCESS:\n      {\n        var _collectionId = action.payload.collectionId;\n        return _objectSpread({}, state, {\n          data: _objectSpread({}, state.data, _defineProperty({}, _collectionId, _objectSpread({}, state.data[_collectionId], {\n            status: CurationStatus.APPROVED\n          }))),\n          loading: loadingReducer(state.loading, action),\n          error: null\n        });\n      }\n\n    case REJECT_COLLECTION_CURATION_SUCCESS:\n      {\n        var _collectionId2 = action.payload.collectionId;\n        return _objectSpread({}, state, {\n          data: _objectSpread({}, state.data, _defineProperty({}, _collectionId2, _objectSpread({}, state.data[_collectionId2], {\n            status: CurationStatus.REJECTED\n          }))),\n          loading: loadingReducer(state.loading, action),\n          error: null\n        });\n      }\n\n    case PUSH_COLLECTION_CURATION_SUCCESS:\n      return _objectSpread({}, state, {\n        loading: loadingReducer(state.loading, action),\n        error: null\n      });\n\n    case FETCH_COLLECTION_CURATIONS_FAILURE:\n    case FETCH_COLLECTION_CURATION_FAILURE:\n    case PUSH_COLLECTION_CURATION_FAILURE:\n    case REJECT_COLLECTION_CURATION_FAILURE:\n    case APPROVE_COLLECTION_CURATION_FAILURE:\n    case SET_COLLECTION_CURATION_ASSIGNEE_FAILURE:\n      var error = action.payload.error;\n      return _objectSpread({}, state, {\n        loading: loadingReducer(state.loading, action),\n        error: error\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/opt/work/NZ_test/src/modules/curations/collectionCuration/reducer.ts"],"names":["loadingReducer","CurationStatus","APPROVE_COLLECTION_CURATION_FAILURE","APPROVE_COLLECTION_CURATION_REQUEST","APPROVE_COLLECTION_CURATION_SUCCESS","FETCH_COLLECTION_CURATIONS_FAILURE","FETCH_COLLECTION_CURATIONS_REQUEST","FETCH_COLLECTION_CURATIONS_SUCCESS","FETCH_COLLECTION_CURATION_FAILURE","FETCH_COLLECTION_CURATION_REQUEST","FETCH_COLLECTION_CURATION_SUCCESS","PUSH_COLLECTION_CURATION_FAILURE","PUSH_COLLECTION_CURATION_REQUEST","PUSH_COLLECTION_CURATION_SUCCESS","REJECT_COLLECTION_CURATION_FAILURE","REJECT_COLLECTION_CURATION_REQUEST","REJECT_COLLECTION_CURATION_SUCCESS","SET_COLLECTION_CURATION_ASSIGNEE_SUCCESS","SET_COLLECTION_CURATION_ASSIGNEE_REQUEST","SET_COLLECTION_CURATION_ASSIGNEE_FAILURE","INITIAL_STATE","data","loading","error","collectionCurationReducer","state","action","type","curations","payload","reduce","acc","curation","collectionId","status","APPROVED","REJECTED"],"mappings":"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","sourcesContent":["import { loadingReducer, LoadingState } from 'decentraland-dapps/dist/modules/loading/reducer'\nimport { CurationStatus } from '../types'\nimport {\n  ApproveCollectionCurationFailureAction,\n  ApproveCollectionCurationRequestAction,\n  ApproveCollectionCurationSuccessAction,\n  APPROVE_COLLECTION_CURATION_FAILURE,\n  APPROVE_COLLECTION_CURATION_REQUEST,\n  APPROVE_COLLECTION_CURATION_SUCCESS,\n  FetchCollectionCurationFailureAction,\n  FetchCollectionCurationRequestAction,\n  FetchCollectionCurationsFailureAction,\n  FetchCollectionCurationsRequestAction,\n  FetchCollectionCurationsSuccessAction,\n  FetchCollectionCurationSuccessAction,\n  FETCH_COLLECTION_CURATIONS_FAILURE,\n  FETCH_COLLECTION_CURATIONS_REQUEST,\n  FETCH_COLLECTION_CURATIONS_SUCCESS,\n  FETCH_COLLECTION_CURATION_FAILURE,\n  FETCH_COLLECTION_CURATION_REQUEST,\n  FETCH_COLLECTION_CURATION_SUCCESS,\n  PushCollectionCurationFailureAction,\n  PushCollectionCurationRequestAction,\n  PushCollectionCurationSuccessAction,\n  PUSH_COLLECTION_CURATION_FAILURE,\n  PUSH_COLLECTION_CURATION_REQUEST,\n  PUSH_COLLECTION_CURATION_SUCCESS,\n  RejectCollectionFailureSuccessAction,\n  RejectCollectionCurationRequestAction,\n  RejectCollectionCurationSuccessAction,\n  REJECT_COLLECTION_CURATION_FAILURE,\n  REJECT_COLLECTION_CURATION_REQUEST,\n  REJECT_COLLECTION_CURATION_SUCCESS,\n  SET_COLLECTION_CURATION_ASSIGNEE_SUCCESS,\n  SetCollectionCurationAssigneeRequestAction,\n  SetCollectionCurationAssigneeSuccessAction,\n  SetCollectionCurationAssigneeFailureAction,\n  SET_COLLECTION_CURATION_ASSIGNEE_REQUEST,\n  SET_COLLECTION_CURATION_ASSIGNEE_FAILURE\n} from './actions'\nimport { CollectionCuration } from './types'\n\nexport type CollectionCurationState = {\n  data: Record<string, CollectionCuration>\n  loading: LoadingState\n  error: string | null\n}\n\nexport const INITIAL_STATE: CollectionCurationState = {\n  data: {},\n  loading: [],\n  error: null\n}\n\ntype CurationReducerAction =\n  | FetchCollectionCurationsRequestAction\n  | FetchCollectionCurationsSuccessAction\n  | FetchCollectionCurationsFailureAction\n  | FetchCollectionCurationRequestAction\n  | FetchCollectionCurationSuccessAction\n  | FetchCollectionCurationFailureAction\n  | PushCollectionCurationRequestAction\n  | PushCollectionCurationSuccessAction\n  | PushCollectionCurationFailureAction\n  | ApproveCollectionCurationRequestAction\n  | ApproveCollectionCurationSuccessAction\n  | ApproveCollectionCurationFailureAction\n  | RejectCollectionCurationRequestAction\n  | RejectCollectionCurationSuccessAction\n  | RejectCollectionFailureSuccessAction\n  | SetCollectionCurationAssigneeRequestAction\n  | SetCollectionCurationAssigneeSuccessAction\n  | SetCollectionCurationAssigneeFailureAction\n\nexport function collectionCurationReducer(\n  state: CollectionCurationState = INITIAL_STATE,\n  action: CurationReducerAction\n): CollectionCurationState {\n  switch (action.type) {\n    case FETCH_COLLECTION_CURATIONS_REQUEST:\n    case FETCH_COLLECTION_CURATION_REQUEST:\n    case PUSH_COLLECTION_CURATION_REQUEST:\n    case APPROVE_COLLECTION_CURATION_REQUEST:\n    case REJECT_COLLECTION_CURATION_REQUEST:\n    case SET_COLLECTION_CURATION_ASSIGNEE_REQUEST:\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action)\n      }\n\n    case FETCH_COLLECTION_CURATIONS_SUCCESS:\n      const { curations } = action.payload\n\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        data: curations.reduce((acc, curation) => ({ ...acc, [curation.collectionId]: curation }), {}),\n        error: null\n      }\n\n    case SET_COLLECTION_CURATION_ASSIGNEE_SUCCESS:\n    case FETCH_COLLECTION_CURATION_SUCCESS:\n      const { collectionId, curation } = action.payload\n\n      const data = { ...state.data }\n\n      if (!curation) {\n        delete data[collectionId]\n      } else {\n        data[collectionId] = curation\n      }\n\n      return {\n        ...state,\n        data,\n        loading: loadingReducer(state.loading, action),\n        error: null\n      }\n\n    case APPROVE_COLLECTION_CURATION_SUCCESS: {\n      const { collectionId } = action.payload\n      return {\n        ...state,\n        data: {\n          ...state.data,\n          [collectionId]: {\n            ...state.data[collectionId],\n            status: CurationStatus.APPROVED\n          }\n        },\n        loading: loadingReducer(state.loading, action),\n        error: null\n      }\n    }\n\n    case REJECT_COLLECTION_CURATION_SUCCESS: {\n      const { collectionId } = action.payload\n      return {\n        ...state,\n        data: {\n          ...state.data,\n          [collectionId]: {\n            ...state.data[collectionId],\n            status: CurationStatus.REJECTED\n          }\n        },\n        loading: loadingReducer(state.loading, action),\n        error: null\n      }\n    }\n\n    case PUSH_COLLECTION_CURATION_SUCCESS:\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: null\n      }\n\n    case FETCH_COLLECTION_CURATIONS_FAILURE:\n    case FETCH_COLLECTION_CURATION_FAILURE:\n    case PUSH_COLLECTION_CURATION_FAILURE:\n    case REJECT_COLLECTION_CURATION_FAILURE:\n    case APPROVE_COLLECTION_CURATION_FAILURE:\n    case SET_COLLECTION_CURATION_ASSIGNEE_FAILURE:\n      const { error } = action.payload\n\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error\n      }\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}