{"ast":null,"code":"import _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/ThirdPartyCollectionDetailPage/CollectionItem/CollectionItem.tsx\";\nimport React from 'react';\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils';\nimport { Grid, Dropdown, Icon, Button, Checkbox, Popup } from 'decentraland-ui';\nimport { Link } from 'react-router-dom';\nimport { locations } from 'routing/locations';\nimport { preventDefault } from 'lib/preventDefault';\nimport { decodeURN, URNType } from 'lib/urn';\nimport ItemStatus from 'components/ItemStatus';\nimport { getBodyShapeType } from 'modules/item/utils';\nimport { getExplorerURL } from 'modules/collection/utils';\nimport ConfirmDelete from 'components/ConfirmDelete';\nimport ItemImage from 'components/ItemImage';\nimport * as styles from './CollectionItem.module.css';\n\nvar CollectionItem = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(CollectionItem, _React$PureComponent);\n\n  function CollectionItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CollectionItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CollectionItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleCheckboxChange = function (_event, data) {\n      var _this$props = _this.props,\n          item = _this$props.item,\n          onSelect = _this$props.onSelect;\n      onSelect(item, data.checked);\n    };\n\n    _this.handleNavigateToExplorer = function () {\n      var item = _this.props.item;\n      var newWindow = window.open(getExplorerURL({\n        item_ids: [item.id]\n      }), '_blank');\n\n      if (newWindow) {\n        newWindow.focus();\n      }\n    };\n\n    _this.handleEditURN = function () {\n      var _this$props2 = _this.props,\n          item = _this$props2.item,\n          onOpenModal = _this$props2.onOpenModal;\n\n      if (!item.isPublished) {\n        onOpenModal('EditItemURNModal', {\n          item: item\n        });\n      }\n    };\n\n    _this.handleNavigateToEditor = function () {\n      var _this$props3 = _this.props,\n          item = _this$props3.item,\n          onNavigate = _this$props3.onNavigate;\n      onNavigate(locations.itemEditor({\n        itemId: item.id,\n        collectionId: item.collectionId\n      }));\n    };\n\n    _this.handleDelete = function () {\n      var _this$props4 = _this.props,\n          item = _this$props4.item,\n          onDelete = _this$props4.onDelete;\n      onDelete(item);\n    };\n\n    return _this;\n  }\n\n  _createClass(CollectionItem, [{\n    key: \"getTokenId\",\n    value: function getTokenId() {\n      var item = this.props.item;\n\n      if (!item.urn) {\n        return '';\n      }\n\n      var decodedURN = decodeURN(item.urn);\n      return decodedURN.type === URNType.COLLECTIONS_THIRDPARTY ? decodedURN.thirdPartyTokenId : '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          item = _this$props5.item,\n          selected = _this$props5.selected;\n      var data = item.data;\n      return /*#__PURE__*/React.createElement(Grid, {\n        className: \"CollectionItem \".concat(styles.grid),\n        columns: \"equal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Row, {\n        className: styles.row,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        className: \"\".concat(styles.column, \" \").concat(styles.avatarColumn),\n        width: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: selected,\n        disabled: item.isPublished,\n        onClick: this.handleCheckboxChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(ItemImage, {\n        className: styles.itemImage,\n        item: item,\n        hasBadge: true,\n        badgeSize: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.nameWrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.name,\n        title: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(ItemStatus, {\n        className: styles.itemStatus,\n        item: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }), item.name))), /*#__PURE__*/React.createElement(Grid.Column, {\n        className: styles.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      }, data.category ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 67\n        }\n      }, t(\"wearable.category.\".concat(data.category))) : null), /*#__PURE__*/React.createElement(Grid.Column, {\n        className: styles.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, t(\"body_shapes.\".concat(getBodyShapeType(item))))), /*#__PURE__*/React.createElement(Grid.Column, {\n        className: styles.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, this.getTokenId())), /*#__PURE__*/React.createElement(Grid.Column, {\n        className: styles.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.itemActions,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown, {\n        trigger: /*#__PURE__*/React.createElement(Button, {\n          basic: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          name: \"ellipsis horizontal\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }\n        })),\n        inline: true,\n        direction: \"left\",\n        className: styles.action,\n        onClick: preventDefault(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('collection_item.see_details'),\n        as: Link,\n        to: locations.itemDetail(item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('collection_context_menu.see_in_world'),\n        onClick: this.handleNavigateToExplorer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('global.open_in_editor'),\n        onClick: this.handleNavigateToEditor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Popup, {\n        content: t('collection_item.cannot_edit_urn'),\n        position: \"right center\",\n        disabled: !item.isPublished,\n        trigger: /*#__PURE__*/React.createElement(Dropdown.Item, {\n          text: t('collection_item.edit_urn'),\n          onClick: this.handleEditURN,\n          disabled: item.isPublished,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 23\n          }\n        }),\n        hideOnScroll: true,\n        on: \"hover\",\n        inverted: true,\n        flowing: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }\n      }), !item.isPublished && /*#__PURE__*/React.createElement(ConfirmDelete, {\n        name: item.name,\n        onDelete: this.handleDelete,\n        trigger: /*#__PURE__*/React.createElement(Dropdown.Item, {\n          text: t('global.delete'),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 91\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      })))))));\n    }\n  }]);\n\n  return CollectionItem;\n}(React.PureComponent);\n\nexport { CollectionItem as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/ThirdPartyCollectionDetailPage/CollectionItem/CollectionItem.tsx"],"names":["React","t","Grid","Dropdown","Icon","Button","Checkbox","Popup","Link","locations","preventDefault","decodeURN","URNType","ItemStatus","getBodyShapeType","getExplorerURL","ConfirmDelete","ItemImage","styles","CollectionItem","handleCheckboxChange","_event","data","props","item","onSelect","checked","handleNavigateToExplorer","newWindow","window","open","item_ids","id","focus","handleEditURN","onOpenModal","isPublished","handleNavigateToEditor","onNavigate","itemEditor","itemId","collectionId","handleDelete","onDelete","urn","decodedURN","type","COLLECTIONS_THIRDPARTY","thirdPartyTokenId","selected","grid","row","column","avatarColumn","itemImage","nameWrapper","name","itemStatus","category","getTokenId","itemActions","action","itemDetail","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Grid, Dropdown, Icon, Button, Checkbox, CheckboxProps, Popup } from 'decentraland-ui'\nimport { Link } from 'react-router-dom'\nimport { locations } from 'routing/locations'\nimport { preventDefault } from 'lib/preventDefault'\nimport { decodeURN, URNType } from 'lib/urn'\nimport ItemStatus from 'components/ItemStatus'\nimport { WearableData } from 'modules/item/types'\nimport { getBodyShapeType } from 'modules/item/utils'\nimport { getExplorerURL } from 'modules/collection/utils'\nimport ConfirmDelete from 'components/ConfirmDelete'\nimport ItemImage from 'components/ItemImage'\nimport { Props } from './CollectionItem.types'\nimport * as styles from './CollectionItem.module.css'\n\nexport default class CollectionItem extends React.PureComponent<Props> {\n  handleCheckboxChange = (_event: React.MouseEvent<HTMLInputElement>, data: CheckboxProps) => {\n    const { item, onSelect } = this.props\n    onSelect(item, data.checked!)\n  }\n\n  handleNavigateToExplorer = () => {\n    const { item } = this.props\n    const newWindow = window.open(getExplorerURL({ item_ids: [item.id] }), '_blank')\n    if (newWindow) {\n      newWindow.focus()\n    }\n  }\n\n  handleEditURN = () => {\n    const { item, onOpenModal } = this.props\n    if (!item.isPublished) {\n      onOpenModal('EditItemURNModal', { item })\n    }\n  }\n\n  handleNavigateToEditor = () => {\n    const { item, onNavigate } = this.props\n    onNavigate(locations.itemEditor({ itemId: item.id, collectionId: item.collectionId }))\n  }\n\n  handleDelete = () => {\n    const { item, onDelete } = this.props\n    onDelete(item)\n  }\n\n  getTokenId() {\n    const { item } = this.props\n\n    if (!item.urn) {\n      return ''\n    }\n\n    const decodedURN = decodeURN(item.urn)\n    return decodedURN.type === URNType.COLLECTIONS_THIRDPARTY ? decodedURN.thirdPartyTokenId : ''\n  }\n\n  render() {\n    const { item, selected } = this.props\n    const data = item.data as WearableData\n\n    return (\n      <Grid className={`CollectionItem ${styles.grid}`} columns=\"equal\">\n        <Grid.Row className={styles.row}>\n          <Grid.Column className={`${styles.column} ${styles.avatarColumn}`} width={5}>\n            <Checkbox checked={selected} disabled={item.isPublished} onClick={this.handleCheckboxChange} />\n            <ItemImage className={styles.itemImage} item={item} hasBadge badgeSize=\"small\" />\n            <div className={styles.nameWrapper}>\n              <div className={styles.name} title={item.name}>\n                <ItemStatus className={styles.itemStatus} item={item} />\n                {item.name}\n              </div>\n            </div>\n          </Grid.Column>\n          <Grid.Column className={styles.column}>{data.category ? <div>{t(`wearable.category.${data.category}`)}</div> : null}</Grid.Column>\n          <Grid.Column className={styles.column}>\n            <div>{t(`body_shapes.${getBodyShapeType(item)}`)}</div>\n          </Grid.Column>\n          <Grid.Column className={styles.column}>\n            <div>{this.getTokenId()}</div>\n          </Grid.Column>\n          <Grid.Column className={styles.column}>\n            <div className={styles.itemActions}>\n              <Dropdown\n                trigger={\n                  <Button basic>\n                    <Icon name=\"ellipsis horizontal\" />\n                  </Button>\n                }\n                inline\n                direction=\"left\"\n                className={styles.action}\n                onClick={preventDefault()}\n              >\n                <Dropdown.Menu>\n                  <Dropdown.Item text={t('collection_item.see_details')} as={Link} to={locations.itemDetail(item.id)} />\n                  <Dropdown.Item text={t('collection_context_menu.see_in_world')} onClick={this.handleNavigateToExplorer} />\n                  <Dropdown.Item text={t('global.open_in_editor')} onClick={this.handleNavigateToEditor} />\n                  <Popup\n                    content={t('collection_item.cannot_edit_urn')}\n                    position=\"right center\"\n                    disabled={!item.isPublished}\n                    trigger={\n                      <Dropdown.Item text={t('collection_item.edit_urn')} onClick={this.handleEditURN} disabled={item.isPublished} />\n                    }\n                    hideOnScroll={true}\n                    on=\"hover\"\n                    inverted\n                    flowing\n                  />\n                  {!item.isPublished && (\n                    <ConfirmDelete name={item.name} onDelete={this.handleDelete} trigger={<Dropdown.Item text={t('global.delete')} />} />\n                  )}\n                </Dropdown.Menu>\n              </Dropdown>\n            </div>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}