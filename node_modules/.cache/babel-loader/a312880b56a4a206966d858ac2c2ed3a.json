{"ast":null,"code":"import _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/CollectionsPage/CollectionsPage.tsx\";\nimport * as React from 'react';\nimport { Container, Row, Column, Header, Card, Button, Dropdown, Table, Section, Tabs, Loader, Pagination } from 'decentraland-ui';\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils';\nimport { NavigationTab } from 'components/Navigation/Navigation.types';\nimport LoggedInDetailPage from 'components/LoggedInDetailPage';\nimport Icon from 'components/Icon';\nimport Chip from 'components/Chip';\nimport { locations } from 'routing/locations';\nimport { CollectionPageView } from 'modules/ui/collection/types';\nimport ItemCard from './ItemCard';\nimport ItemRow from './ItemRow';\nimport CollectionCard from './CollectionCard';\nimport CollectionRow from './CollectionRow';\nimport { TABS } from './CollectionsPage.types';\nimport './CollectionsPage.css';\nvar PAGE_SIZE = 20;\n\nvar CollectionsPage = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(CollectionsPage, _React$PureComponent);\n\n  function CollectionsPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CollectionsPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CollectionsPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentTab: TABS.COLLECTIONS,\n      page: 1\n    };\n\n    _this.handleNewItem = function () {\n      _this.props.onOpenModal('CreateSingleItemModal', {});\n    };\n\n    _this.handleNewCollection = function () {\n      _this.props.onOpenModal('CreateCollectionModal');\n    };\n\n    _this.handleNewThirdPartyCollection = function () {\n      _this.props.onOpenModal('CreateThirdPartyCollectionModal');\n    };\n\n    _this.handleOpenEditor = function () {\n      var onNavigate = _this.props.onNavigate;\n      onNavigate(locations.itemEditor());\n    };\n\n    _this.handleTabChange = function (tab) {\n      var _this$props = _this.props,\n          onFetchOrphanItems = _this$props.onFetchOrphanItems,\n          onFetchCollections = _this$props.onFetchCollections,\n          address = _this$props.address;\n\n      _this.setState({\n        currentTab: tab,\n        page: 1\n      }, function () {\n        var fetchFn = tab === TABS.ITEMS ? onFetchOrphanItems : onFetchCollections;\n\n        if (address) {\n          fetchFn(address, {\n            page: 1,\n            limit: PAGE_SIZE\n          });\n        }\n      });\n    };\n\n    _this.isCollectionTabActive = function () {\n      var currentTab = _this.state.currentTab;\n      return currentTab === TABS.COLLECTIONS;\n    };\n\n    _this.fetchCollections = function () {\n      var _this$props2 = _this.props,\n          address = _this$props2.address,\n          onFetchCollections = _this$props2.onFetchCollections;\n      var page = _this.state.page;\n      onFetchCollections(address, {\n        page: page,\n        limit: PAGE_SIZE\n      });\n    };\n\n    _this.fetchItems = function () {\n      var _this$props3 = _this.props,\n          address = _this$props3.address,\n          onFetchOrphanItems = _this$props3.onFetchOrphanItems;\n      var page = _this.state.page;\n      address && onFetchOrphanItems(address, {\n        page: page,\n        limit: PAGE_SIZE\n      });\n    };\n\n    _this.handlePageChange = function (_event, props) {\n      _this.setState({\n        page: +props.activePage\n      }, _this.isCollectionTabActive() ? _this.fetchCollections : _this.fetchItems);\n    };\n\n    return _this;\n  }\n\n  _createClass(CollectionsPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props4 = this.props,\n          onFetchCollections = _this$props4.onFetchCollections,\n          address = _this$props4.address; // fetch if already connected\n\n      if (address) {\n        onFetchCollections(address, {\n          page: 1,\n          limit: PAGE_SIZE\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props5 = this.props,\n          onFetchCollections = _this$props5.onFetchCollections,\n          address = _this$props5.address; // if it's the first page and it was not connected when mounting\n\n      if (address && address !== prevProps.address) {\n        onFetchCollections(address, {\n          page: 1,\n          limit: PAGE_SIZE\n        });\n      }\n    }\n  }, {\n    key: \"renderGrid\",\n    value: function renderGrid() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          items = _this$props6.items,\n          collections = _this$props6.collections,\n          isLoadingItems = _this$props6.isLoadingItems;\n      return /*#__PURE__*/React.createElement(Card.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }\n      }, this.isCollectionTabActive() ? collections.map(function (collection, index) {\n        return /*#__PURE__*/React.createElement(CollectionCard, {\n          key: index,\n          collection: collection,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 50\n          }\n        });\n      }) : isLoadingItems ? /*#__PURE__*/React.createElement(Loader, {\n        size: \"large\",\n        active: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }\n      }) : items.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(ItemCard, {\n          key: index,\n          item: item,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 38\n          }\n        });\n      }));\n    }\n  }, {\n    key: \"renderList\",\n    value: function renderList() {\n      var _this3 = this;\n\n      var _this$props7 = this.props,\n          items = _this$props7.items,\n          collections = _this$props7.collections;\n      return /*#__PURE__*/React.createElement(Section, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        basic: \"very\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Table.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Table.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }\n      }, t('global.item')), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      }, t('collections_page.type')), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }\n      }, this.isCollectionTabActive() ? t('collections_page.collections') : t('collections_page.items')), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(Table.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }, this.isCollectionTabActive() ? collections.map(function (collection) {\n        return /*#__PURE__*/React.createElement(CollectionRow, {\n          key: collection.id,\n          collection: collection,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 47\n          }\n        });\n      }) : items.map(function (item) {\n        return /*#__PURE__*/React.createElement(ItemRow, {\n          key: item.id,\n          item: item,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 35\n          }\n        });\n      }))));\n    }\n  }, {\n    key: \"renderPage\",\n    value: function renderPage() {\n      var _this4 = this;\n\n      var _this$props8 = this.props,\n          collectionsPaginationData = _this$props8.collectionsPaginationData,\n          itemsPaginationData = _this$props8.itemsPaginationData,\n          view = _this$props8.view,\n          isThirdPartyManager = _this$props8.isThirdPartyManager,\n          onSetView = _this$props8.onSetView,\n          isLoadingItems = _this$props8.isLoadingItems,\n          isLoadingCollections = _this$props8.isLoadingCollections;\n      var page = this.state.page;\n      var totalCollections = collectionsPaginationData === null || collectionsPaginationData === void 0 ? void 0 : collectionsPaginationData.total;\n      var totalItems = itemsPaginationData === null || itemsPaginationData === void 0 ? void 0 : itemsPaginationData.total;\n      var count = this.isCollectionTabActive() ? totalCollections : totalItems;\n      var totalPages = this.isCollectionTabActive() ? collectionsPaginationData === null || collectionsPaginationData === void 0 ? void 0 : collectionsPaginationData.totalPages : itemsPaginationData === null || itemsPaginationData === void 0 ? void 0 : itemsPaginationData.totalPages;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Tabs, {\n        isFullscreen: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Tabs.Tab, {\n        active: this.isCollectionTabActive(),\n        onClick: function onClick() {\n          return _this4.handleTabChange(TABS.COLLECTIONS);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 15\n        }\n      }, t('collections_page.collections')), /*#__PURE__*/React.createElement(Tabs.Tab, {\n        active: !this.isCollectionTabActive(),\n        onClick: function onClick() {\n          return _this4.handleTabChange(TABS.ITEMS);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 15\n        }\n      }, t('collections_page.single_items')), /*#__PURE__*/React.createElement(Column, {\n        align: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"actions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown, {\n        trigger: /*#__PURE__*/React.createElement(Button, {\n          basic: true,\n          className: \"create-item\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          name: \"add-active\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }\n        })),\n        inline: true,\n        direction: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }\n      }, this.isCollectionTabActive() ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('collections_page.new_collection'),\n        onClick: this.handleNewCollection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 27\n        }\n      }), isThirdPartyManager ? /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('collections_page.new_third_party_collection'),\n        onClick: this.handleNewThirdPartyCollection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 29\n        }\n      }) : null) : /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('collections_page.new_item'),\n        onClick: this.handleNewItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Button, {\n        className: \"open-editor\",\n        primary: true,\n        onClick: this.handleOpenEditor,\n        size: \"tiny\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 19\n        }\n      }, t('item_editor.open')), /*#__PURE__*/React.createElement(Chip, {\n        className: \"grid\",\n        icon: \"grid\",\n        isActive: view === CollectionPageView.GRID,\n        onClick: function onClick() {\n          return onSetView(CollectionPageView.GRID);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Chip, {\n        className: \"list\",\n        icon: \"table\",\n        isActive: view === CollectionPageView.LIST,\n        onClick: function onClick() {\n          return onSetView(CollectionPageView.LIST);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 19\n        }\n      })))), /*#__PURE__*/React.createElement(Row, {\n        height: 30,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Column, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 17\n        }\n      }, !isLoadingItems && !!count && count > 0 && /*#__PURE__*/React.createElement(Header, {\n        sub: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 66\n        }\n      }, t('collections_page.results', {\n        count: count\n      }))))))), isLoadingItems || isLoadingCollections || count === undefined ? /*#__PURE__*/React.createElement(Loader, {\n        active: true,\n        size: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }\n      }) : count > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, view === CollectionPageView.GRID ? this.renderGrid() : view === CollectionPageView.LIST ? this.renderList() : null, !!totalPages && totalPages > 1 && /*#__PURE__*/React.createElement(Pagination, {\n        className: \"pagination\",\n        firstItem: null,\n        lastItem: null,\n        totalPages: totalPages,\n        activePage: page,\n        onPageChange: this.handlePageChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 15\n        }\n      })) : /*#__PURE__*/React.createElement(Card.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"empty\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        className: \"title\",\n        size: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 15\n        }\n      }, t('collections_page.no_items')), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"empty-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 15\n        }\n      }, t('collections_page.empty_description')), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"create-new-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"create-new create-new-item\",\n        onClick: this.handleNewItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 19\n        }\n      }, t('collections_page.new_item'))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"create-new create-new-collection\",\n        onClick: this.handleNewCollection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 19\n        }\n      }, t('collections_page.new_collection')))))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(LoggedInDetailPage, {\n        className: \"CollectionsPage\",\n        activeTab: NavigationTab.COLLECTIONS,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 7\n        }\n      }, this.renderPage());\n    }\n  }]);\n\n  return CollectionsPage;\n}(React.PureComponent);\n\nexport { CollectionsPage as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/CollectionsPage/CollectionsPage.tsx"],"names":["React","Container","Row","Column","Header","Card","Button","Dropdown","Table","Section","Tabs","Loader","Pagination","t","NavigationTab","LoggedInDetailPage","Icon","Chip","locations","CollectionPageView","ItemCard","ItemRow","CollectionCard","CollectionRow","TABS","PAGE_SIZE","CollectionsPage","state","currentTab","COLLECTIONS","page","handleNewItem","props","onOpenModal","handleNewCollection","handleNewThirdPartyCollection","handleOpenEditor","onNavigate","itemEditor","handleTabChange","tab","onFetchOrphanItems","onFetchCollections","address","setState","fetchFn","ITEMS","limit","isCollectionTabActive","fetchCollections","fetchItems","handlePageChange","_event","activePage","prevProps","items","collections","isLoadingItems","map","collection","index","item","id","collectionsPaginationData","itemsPaginationData","view","isThirdPartyManager","onSetView","isLoadingCollections","totalCollections","total","totalItems","count","totalPages","GRID","LIST","undefined","renderGrid","renderList","renderPage","PureComponent"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport {\n  Container,\n  Row,\n  Column,\n  Header,\n  Card,\n  Button,\n  Dropdown,\n  Table,\n  Section,\n  Tabs,\n  Loader,\n  Pagination,\n  PaginationProps\n} from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { NavigationTab } from 'components/Navigation/Navigation.types'\nimport LoggedInDetailPage from 'components/LoggedInDetailPage'\nimport Icon from 'components/Icon'\nimport Chip from 'components/Chip'\nimport { locations } from 'routing/locations'\nimport { CollectionPageView } from 'modules/ui/collection/types'\nimport ItemCard from './ItemCard'\nimport ItemRow from './ItemRow'\nimport CollectionCard from './CollectionCard'\nimport CollectionRow from './CollectionRow'\nimport { Props, TABS } from './CollectionsPage.types'\nimport './CollectionsPage.css'\n\nconst PAGE_SIZE = 20\n\nexport default class CollectionsPage extends React.PureComponent<Props> {\n  state = {\n    currentTab: TABS.COLLECTIONS,\n    page: 1\n  }\n\n  componentDidMount() {\n    const { onFetchCollections, address } = this.props\n    // fetch if already connected\n    if (address) {\n      onFetchCollections(address, { page: 1, limit: PAGE_SIZE })\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { onFetchCollections, address } = this.props\n    // if it's the first page and it was not connected when mounting\n    if (address && address !== prevProps.address) {\n      onFetchCollections(address, { page: 1, limit: PAGE_SIZE })\n    }\n  }\n\n  handleNewItem = () => {\n    this.props.onOpenModal('CreateSingleItemModal', {})\n  }\n\n  handleNewCollection = () => {\n    this.props.onOpenModal('CreateCollectionModal')\n  }\n\n  handleNewThirdPartyCollection = () => {\n    this.props.onOpenModal('CreateThirdPartyCollectionModal')\n  }\n\n  handleOpenEditor = () => {\n    const { onNavigate } = this.props\n    onNavigate(locations.itemEditor())\n  }\n\n  handleTabChange = (tab: TABS) => {\n    const { onFetchOrphanItems, onFetchCollections, address } = this.props\n    this.setState({ currentTab: tab, page: 1 }, () => {\n      const fetchFn = tab === TABS.ITEMS ? onFetchOrphanItems : onFetchCollections\n      if (address) {\n        fetchFn(address, { page: 1, limit: PAGE_SIZE })\n      }\n    })\n  }\n\n  renderGrid() {\n    const { items, collections, isLoadingItems } = this.props\n    return (\n      <Card.Group>\n        {this.isCollectionTabActive() ? (\n          collections.map((collection, index) => <CollectionCard key={index} collection={collection} />)\n        ) : isLoadingItems ? (\n          <Loader size=\"large\" active />\n        ) : (\n          items.map((item, index) => <ItemCard key={index} item={item} />)\n        )}\n      </Card.Group>\n    )\n  }\n\n  renderList() {\n    const { items, collections } = this.props\n    return (\n      <Section>\n        <Table basic=\"very\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>{t('global.item')}</Table.HeaderCell>\n              <Table.HeaderCell>{t('collections_page.type')}</Table.HeaderCell>\n              <Table.HeaderCell>\n                {this.isCollectionTabActive() ? t('collections_page.collections') : t('collections_page.items')}\n              </Table.HeaderCell>\n              <Table.HeaderCell></Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body>\n            {this.isCollectionTabActive()\n              ? collections.map(collection => <CollectionRow key={collection.id} collection={collection} />)\n              : items.map(item => <ItemRow key={item.id} item={item} />)}\n          </Table.Body>\n        </Table>\n      </Section>\n    )\n  }\n\n  isCollectionTabActive = () => {\n    const { currentTab } = this.state\n    return currentTab === TABS.COLLECTIONS\n  }\n\n  fetchCollections = () => {\n    const { address, onFetchCollections } = this.props\n    const { page } = this.state\n    onFetchCollections(address, { page, limit: PAGE_SIZE })\n  }\n\n  fetchItems = () => {\n    const { address, onFetchOrphanItems } = this.props\n    const { page } = this.state\n    address && onFetchOrphanItems(address, { page, limit: PAGE_SIZE })\n  }\n\n  handlePageChange = (_event: React.MouseEvent<HTMLAnchorElement, MouseEvent>, props: PaginationProps) => {\n    this.setState({ page: +props.activePage! }, this.isCollectionTabActive() ? this.fetchCollections : this.fetchItems)\n  }\n\n  renderPage() {\n    const {\n      collectionsPaginationData,\n      itemsPaginationData,\n      view,\n      isThirdPartyManager,\n      onSetView,\n      isLoadingItems,\n      isLoadingCollections\n    } = this.props\n    const { page } = this.state\n    const totalCollections = collectionsPaginationData?.total\n    const totalItems = itemsPaginationData?.total\n    const count = this.isCollectionTabActive() ? totalCollections : totalItems\n    const totalPages = this.isCollectionTabActive() ? collectionsPaginationData?.totalPages : itemsPaginationData?.totalPages\n\n    return (\n      <>\n        <div className=\"filters\">\n          <Container>\n            <Tabs isFullscreen>\n              <Tabs.Tab active={this.isCollectionTabActive()} onClick={() => this.handleTabChange(TABS.COLLECTIONS)}>\n                {t('collections_page.collections')}\n              </Tabs.Tab>\n              <Tabs.Tab active={!this.isCollectionTabActive()} onClick={() => this.handleTabChange(TABS.ITEMS)}>\n                {t('collections_page.single_items')}\n              </Tabs.Tab>\n              <Column align=\"right\">\n                <Row className=\"actions\">\n                  <Dropdown\n                    trigger={\n                      <Button basic className=\"create-item\">\n                        <Icon name=\"add-active\" />\n                      </Button>\n                    }\n                    inline\n                    direction=\"left\"\n                  >\n                    <Dropdown.Menu>\n                      {this.isCollectionTabActive() ? (\n                        <>\n                          <Dropdown.Item text={t('collections_page.new_collection')} onClick={this.handleNewCollection} />\n                          {isThirdPartyManager ? (\n                            <Dropdown.Item\n                              text={t('collections_page.new_third_party_collection')}\n                              onClick={this.handleNewThirdPartyCollection}\n                            />\n                          ) : null}\n                        </>\n                      ) : (\n                        <Dropdown.Item text={t('collections_page.new_item')} onClick={this.handleNewItem} />\n                      )}\n                    </Dropdown.Menu>\n                  </Dropdown>\n                  <Button className=\"open-editor\" primary onClick={this.handleOpenEditor} size=\"tiny\">\n                    {t('item_editor.open')}\n                  </Button>\n                  <Chip\n                    className=\"grid\"\n                    icon=\"grid\"\n                    isActive={view === CollectionPageView.GRID}\n                    onClick={() => onSetView(CollectionPageView.GRID)}\n                  />\n                  <Chip\n                    className=\"list\"\n                    icon=\"table\"\n                    isActive={view === CollectionPageView.LIST}\n                    onClick={() => onSetView(CollectionPageView.LIST)}\n                  />\n                </Row>\n              </Column>\n            </Tabs>\n            <Row height={30}>\n              <Column>\n                <Row>{!isLoadingItems && !!count && count > 0 && <Header sub>{t('collections_page.results', { count })}</Header>}</Row>\n              </Column>\n            </Row>\n          </Container>\n        </div>\n\n        {isLoadingItems || isLoadingCollections || count === undefined ? (\n          <Loader active size=\"large\" />\n        ) : count > 0 ? (\n          <>\n            {view === CollectionPageView.GRID ? this.renderGrid() : view === CollectionPageView.LIST ? this.renderList() : null}\n            {!!totalPages && totalPages > 1 && (\n              <Pagination\n                className=\"pagination\"\n                firstItem={null}\n                lastItem={null}\n                totalPages={totalPages}\n                activePage={page}\n                onPageChange={this.handlePageChange}\n              />\n            )}\n          </>\n        ) : (\n          <Card.Group>\n            <div className=\"empty\">\n              <Header className=\"title\" size=\"large\">\n                {t('collections_page.no_items')}\n              </Header>\n              <div className=\"empty-description\">{t('collections_page.empty_description')}</div>\n              <div className=\"create-new-wrapper\">\n                <div className=\"create-new create-new-item\" onClick={this.handleNewItem}>\n                  <div className=\"text\">{t('collections_page.new_item')}</div>\n                </div>\n                <div className=\"create-new create-new-collection\" onClick={this.handleNewCollection}>\n                  <div className=\"text\">{t('collections_page.new_collection')}</div>\n                </div>\n              </div>\n            </div>\n          </Card.Group>\n        )}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <LoggedInDetailPage className=\"CollectionsPage\" activeTab={NavigationTab.COLLECTIONS}>\n        {this.renderPage()}\n      </LoggedInDetailPage>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}