{"ast":null,"code":"import { GLTFLoader } from \"../glTFLoader\";\nvar NAME = \"ExtrasAsMetadata\";\n/**\r\n * Store glTF extras (if present) in BJS objects' metadata\r\n */\n\nvar ExtrasAsMetadata =\n/** @class */\nfunction () {\n  /** @hidden */\n  function ExtrasAsMetadata(loader) {\n    /**\r\n     * The name of this extension.\r\n     */\n    this.name = NAME;\n    /**\r\n     * Defines whether this extension is enabled.\r\n     */\n\n    this.enabled = true;\n    this._loader = loader;\n  }\n\n  ExtrasAsMetadata.prototype._assignExtras = function (babylonObject, gltfProp) {\n    if (gltfProp.extras && Object.keys(gltfProp.extras).length > 0) {\n      var metadata = babylonObject.metadata = babylonObject.metadata || {};\n      var gltf = metadata.gltf = metadata.gltf || {};\n      gltf.extras = gltfProp.extras;\n    }\n  };\n  /** @hidden */\n\n\n  ExtrasAsMetadata.prototype.dispose = function () {\n    this._loader = null;\n  };\n  /** @hidden */\n\n\n  ExtrasAsMetadata.prototype.loadNodeAsync = function (context, node, assign) {\n    var _this = this;\n\n    return this._loader.loadNodeAsync(context, node, function (babylonTransformNode) {\n      _this._assignExtras(babylonTransformNode, node);\n\n      assign(babylonTransformNode);\n    });\n  };\n  /** @hidden */\n\n\n  ExtrasAsMetadata.prototype.loadCameraAsync = function (context, camera, assign) {\n    var _this = this;\n\n    return this._loader.loadCameraAsync(context, camera, function (babylonCamera) {\n      _this._assignExtras(babylonCamera, camera);\n\n      assign(babylonCamera);\n    });\n  };\n  /** @hidden */\n\n\n  ExtrasAsMetadata.prototype.createMaterial = function (context, material, babylonDrawMode) {\n    var babylonMaterial = this._loader.createMaterial(context, material, babylonDrawMode);\n\n    this._assignExtras(babylonMaterial, material);\n\n    return babylonMaterial;\n  };\n\n  return ExtrasAsMetadata;\n}();\n\nexport { ExtrasAsMetadata };\nGLTFLoader.RegisterExtension(NAME, function (loader) {\n  return new ExtrasAsMetadata(loader);\n});","map":null,"metadata":{},"sourceType":"module"}