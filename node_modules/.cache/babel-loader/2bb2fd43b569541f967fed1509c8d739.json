{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar network_1 = require(\"@dcl/schemas/dist/dapps/network\");\n\nvar utils_1 = require(\"../../modules/transaction/utils\");\n\nvar selectors_1 = require(\"../../modules/wallet/selectors\");\n\nvar actions_1 = require(\"../../modules/wallet/actions\");\n\nvar selectors_2 = require(\"../../modules/profile/selectors\");\n\nvar selectors_3 = require(\"../../modules/translation/selectors\");\n\nvar selectors_4 = require(\"../../modules/transaction/selectors\");\n\nvar UserMenu_1 = __importDefault(require(\"./UserMenu\"));\n\nvar mapState = function mapState(state) {\n  var isSignedIn = selectors_1.isConnected(state);\n  var address = selectors_1.getAddress(state);\n  var profile = selectors_2.getData(state)[address];\n  var networks = selectors_1.getNetworks(state);\n  var manaBalances = {};\n\n  if (isSignedIn) {\n    var networkList = Object.values(network_1.Network);\n\n    for (var _i = 0, _networkList = networkList; _i < _networkList.length; _i++) {\n      var network = _networkList[_i];\n      var networkData = networks[network];\n\n      if (networkData) {\n        manaBalances[network] = networks[network].mana;\n      }\n    }\n  }\n\n  return {\n    address: address,\n    manaBalances: manaBalances,\n    avatar: profile ? profile.avatars[0] : undefined,\n    isSignedIn: isSignedIn,\n    isSigningIn: selectors_1.isConnecting(state),\n    hasActivity: selectors_4.getTransactions(state, address || '').some(function (tx) {\n      return utils_1.isPending(tx.status);\n    }),\n    hasTranslations: selectors_3.isEnabled(state)\n  };\n};\n\nvar mapDispatch = function mapDispatch(dispatch) {\n  return {\n    onSignOut: function onSignOut() {\n      return dispatch(actions_1.disconnectWallet());\n    }\n  };\n};\n\nvar mergeProps = function mergeProps(mapStateProps, mapDispatchProps, ownProps) {\n  return Object.assign(Object.assign(Object.assign({}, mapStateProps), mapDispatchProps), ownProps);\n};\n\nexports.default = react_redux_1.connect(mapState, mapDispatch, mergeProps)(UserMenu_1.default);","map":null,"metadata":{},"sourceType":"script"}