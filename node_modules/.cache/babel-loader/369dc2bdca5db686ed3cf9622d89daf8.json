{"ast":null,"code":"import _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/CollectionDropdown/CollectionDropdown.tsx\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport * as React from 'react';\nimport { Dropdown, Row } from 'decentraland-ui';\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils';\nimport './CollectionDropdown.css';\n\nvar CollectionDropdown = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(CollectionDropdown, _React$PureComponent);\n\n  function CollectionDropdown() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CollectionDropdown);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CollectionDropdown)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleChange = function (_event, props) {\n      var _this$props = _this.props,\n          collections = _this$props.collections,\n          onChange = _this$props.onChange;\n      var collection = collections.find(function (collection) {\n        return collection.id === props.value;\n      });\n\n      if (collection) {\n        onChange(collection);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(CollectionDropdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props2 = this.props,\n          address = _this$props2.address,\n          onFetchCollections = _this$props2.onFetchCollections;\n\n      if (address) {\n        onFetchCollections(address);\n      }\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      var _this$props3 = this.props,\n          collections = _this$props3.collections,\n          filter = _this$props3.filter;\n      var filteredCollections = filter ? collections.filter(filter) : collections;\n      var options = [];\n\n      var _iterator = _createForOfIteratorHelper(filteredCollections),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var collection = _step.value;\n          options.push({\n            value: collection.id,\n            text: collection.name\n          });\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return options;\n    }\n  }, {\n    key: \"renderTrigger\",\n    value: function renderTrigger(options) {\n      var _this$props4 = this.props,\n          value = _this$props4.value,\n          placeholder = _this$props4.placeholder;\n      return value ? /*#__PURE__*/React.createElement(Row, {\n        className: \"selected-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }\n      }, value.name)) : options.length > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"placeholder\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }\n      }, placeholder ? placeholder : /*#__PURE__*/React.createElement(React.Fragment, null, t('collection_dropdown.placeholder'), \"\\u2026\")) : /*#__PURE__*/React.createElement(\"p\", {\n        className: \"no-items\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }\n      }, t('collection_dropdown.no_collections'));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isDisabled = this.props.isDisabled;\n      var options = this.getOptions();\n      return /*#__PURE__*/React.createElement(Dropdown, {\n        className: \"CollectionDropdown\",\n        trigger: this.renderTrigger(options),\n        inline: true,\n        direction: \"right\",\n        options: options,\n        onChange: this.handleChange,\n        scrolling: options.length > 4,\n        disabled: isDisabled || options.length <= 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return CollectionDropdown;\n}(React.PureComponent);\n\nexport { CollectionDropdown as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/CollectionDropdown/CollectionDropdown.tsx"],"names":["React","Dropdown","Row","t","CollectionDropdown","handleChange","_event","props","collections","onChange","collection","find","id","value","address","onFetchCollections","filter","filteredCollections","options","push","text","name","placeholder","length","isDisabled","getOptions","renderTrigger","PureComponent"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { Dropdown, DropdownItemProps, DropdownProps, Row } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Props } from './CollectionDropdown.types'\nimport './CollectionDropdown.css'\n\nexport default class CollectionDropdown extends React.PureComponent<Props> {\n  componentDidMount() {\n    const { address, onFetchCollections } = this.props\n    if (address) {\n      onFetchCollections(address)\n    }\n  }\n\n  getOptions() {\n    const { collections, filter } = this.props\n    const filteredCollections = filter ? collections.filter(filter) : collections\n    const options: DropdownItemProps[] = []\n    for (const collection of filteredCollections) {\n      options.push({\n        value: collection.id,\n        text: collection.name\n      })\n    }\n    return options\n  }\n\n  handleChange = (_event: React.SyntheticEvent<HTMLElement, Event>, props: DropdownProps) => {\n    const { collections, onChange } = this.props\n    const collection = collections.find(collection => collection.id === props.value)\n    if (collection) {\n      onChange(collection)\n    }\n  }\n\n  renderTrigger(options: DropdownItemProps[]) {\n    const { value, placeholder } = this.props\n    return value ? (\n      <Row className=\"selected-item\">\n        <div className=\"name\">{value.name}</div>\n      </Row>\n    ) : options.length > 0 ? (\n      <p className=\"placeholder\">{placeholder ? placeholder : <>{t('collection_dropdown.placeholder')}&hellip;</>}</p>\n    ) : (\n      <p className=\"no-items\">{t('collection_dropdown.no_collections')}</p>\n    )\n  }\n\n  render() {\n    const { isDisabled } = this.props\n    const options = this.getOptions()\n    return (\n      <Dropdown\n        className=\"CollectionDropdown\"\n        trigger={this.renderTrigger(options)}\n        inline\n        direction=\"right\"\n        options={options}\n        onChange={this.handleChange}\n        scrolling={options.length > 4}\n        disabled={isDisabled || options.length <= 0}\n      />\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}