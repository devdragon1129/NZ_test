{"ast":null,"code":"import _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/CurationPage/CollectionRow/CollectionRow.tsx\";\nimport React from 'react';\nimport { format } from 'date-fns';\nimport { Icon, Table } from 'decentraland-ui';\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils';\nimport { locations } from 'routing/locations';\nimport { getCollectionCurationState } from 'modules/curations/collectionCuration/utils';\nimport { getCollectionType } from 'modules/collection/utils';\nimport { CurationStatus } from 'modules/curations/types';\nimport { CollectionType } from 'modules/collection/types';\nimport CollectionStatus from 'components/CollectionStatus';\nimport CollectionImage from 'components/CollectionImage';\nimport { AssignModalOperationType } from 'components/Modals/EditCurationAssigneeModal/EditCurationAssigneeModal.types';\nimport Profile from 'components/Profile';\nimport { formatDistanceToNow } from 'lib/date';\nimport './CollectionRow.css';\n\nvar CollectionRow = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(CollectionRow, _React$PureComponent);\n\n  function CollectionRow() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CollectionRow);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CollectionRow)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleNavigateToForum = function (event) {\n      var collection = _this.props.collection;\n      window.open(collection.forumLink, '_blank');\n      event.preventDefault();\n      event.stopPropagation();\n    };\n\n    _this.handleAssign = function (event) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : AssignModalOperationType.SELF_ASSIGN;\n      var _this$props = _this.props,\n          onOpenModal = _this$props.onOpenModal,\n          collection = _this$props.collection;\n      onOpenModal('EditCurationAssigneeModal', {\n        collectionId: collection.id,\n        type: type\n      });\n      event.preventDefault();\n      event.stopPropagation();\n    };\n\n    _this.handleTableRowClick = function () {\n      var _this$props2 = _this.props,\n          onNavigate = _this$props2.onNavigate,\n          collection = _this$props2.collection;\n      onNavigate(locations.itemEditor({\n        collectionId: collection.id,\n        isReviewing: 'true'\n      }));\n    };\n\n    _this.renderCurationState = function () {\n      var _this$props3 = _this.props,\n          collection = _this$props3.collection,\n          curation = _this$props3.curation;\n      var curationState = getCollectionCurationState(collection, curation);\n\n      switch (curationState) {\n        case CurationStatus.APPROVED:\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"approved action\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"action-text\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 13\n            }\n          }, t('collection_row.approved')), \" \", /*#__PURE__*/React.createElement(Icon, {\n            name: \"check\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 81\n            }\n          }));\n\n        case CurationStatus.REJECTED:\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"rejected action\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"action-text\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 13\n            }\n          }, t('collection_row.rejected')), \" \", /*#__PURE__*/React.createElement(Icon, {\n            name: \"close\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 81\n            }\n          }));\n\n        case CurationStatus.DISABLED:\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"disabled action\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"action-text\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }\n          }, t('collection_row.disabled')), \" \", /*#__PURE__*/React.createElement(Icon, {\n            name: \"close\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 81\n            }\n          }));\n\n        case CurationStatus.UNDER_REVIEW:\n          return /*#__PURE__*/React.createElement(\"span\", {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 16\n            }\n          }, \" \", t('collection_row.under_review'));\n\n        case CurationStatus.TO_REVIEW:\n          return /*#__PURE__*/React.createElement(\"span\", {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 16\n            }\n          }, \" \", t('collection_row.to_review'));\n\n        default:\n          return /*#__PURE__*/React.createElement(\"span\", {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 16\n            }\n          }, \" \", t('collection_row.to_review'));\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(CollectionRow, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props4 = this.props,\n          address = _this$props4.address,\n          collection = _this$props4.collection,\n          itemCount = _this$props4.itemCount,\n          curation = _this$props4.curation;\n      var createdAtDate = new Date((curation === null || curation === void 0 ? void 0 : curation.createdAt) || collection.createdAt);\n      return /*#__PURE__*/React.createElement(Table.Row, {\n        className: \"CollectionRow\",\n        key: collection.id,\n        onClick: this.handleTableRowClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Table.Cell, {\n        width: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(CollectionImage, {\n        collectionId: collection.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CollectionStatus, {\n        collection: collection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }\n      }), collection.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"subtitle name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }\n      }, t('collection_row.items', {\n        count: itemCount\n      }))))), /*#__PURE__*/React.createElement(Table.Cell, {\n        width: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }\n      }, getCollectionType(collection) === CollectionType.THIRD_PARTY ? t('collection_row.type_third_party') : t('collection_row.type_standard'))), /*#__PURE__*/React.createElement(Table.Cell, {\n        width: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, getCollectionType(collection) === CollectionType.THIRD_PARTY ? '-' : /*#__PURE__*/React.createElement(Profile, {\n        textOnly: true,\n        address: collection.owner,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 86\n        }\n      }))), /*#__PURE__*/React.createElement(Table.Cell, {\n        width: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        title: format(createdAtDate, 'd MMMM yyyy HH:mm'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, t(curation ? 'collection_row.review_request' : 'collection_row.published')), ' ', formatDistanceToNow(createdAtDate, {\n        addSuffix: true\n      }))), /*#__PURE__*/React.createElement(Table.Cell, {\n        width: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"actions text-centered\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }\n      }, this.renderCurationState())), /*#__PURE__*/React.createElement(Table.Cell, {\n        width: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"edit-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, curation !== null && curation !== void 0 && curation.assignee ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"curator-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Profile, {\n        textOnly: true,\n        address: curation.assignee,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 19\n        }\n      }), address === curation.assignee ? /*#__PURE__*/React.createElement(React.Fragment, null, \" (\", t('collection_row.you'), \")\") : null, ' '), curation.status !== CurationStatus.APPROVED || !collection.isApproved ? /*#__PURE__*/React.createElement(Icon, {\n        name: \"pencil\",\n        onClick: function onClick(e) {\n          return _this2.handleAssign(e, AssignModalOperationType.REASSIGN);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 19\n        }\n      }) : null) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"assignee-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }\n      }, t('collection_row.unassigned'), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"link\",\n        onClick: this.handleAssign,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }, t('collection_row.assign_to_me'))))), /*#__PURE__*/React.createElement(Table.Cell, {\n        width: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-centered\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }\n      }, collection.forumLink ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"link\",\n        onClick: this.handleNavigateToForum,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }\n      }, t('collection_row.link')) : t('collection_row.no_forum_post'))));\n    }\n  }]);\n\n  return CollectionRow;\n}(React.PureComponent);\n\nexport { CollectionRow as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/CurationPage/CollectionRow/CollectionRow.tsx"],"names":["React","format","Icon","Table","t","locations","getCollectionCurationState","getCollectionType","CurationStatus","CollectionType","CollectionStatus","CollectionImage","AssignModalOperationType","Profile","formatDistanceToNow","CollectionRow","handleNavigateToForum","event","collection","props","window","open","forumLink","preventDefault","stopPropagation","handleAssign","type","SELF_ASSIGN","onOpenModal","collectionId","id","handleTableRowClick","onNavigate","itemEditor","isReviewing","renderCurationState","curation","curationState","APPROVED","REJECTED","DISABLED","UNDER_REVIEW","TO_REVIEW","address","itemCount","createdAtDate","Date","createdAt","name","count","THIRD_PARTY","owner","addSuffix","assignee","status","isApproved","e","REASSIGN","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { format } from 'date-fns'\nimport { Icon, Table } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { locations } from 'routing/locations'\nimport { getCollectionCurationState } from 'modules/curations/collectionCuration/utils'\nimport { getCollectionType } from 'modules/collection/utils'\nimport { CurationStatus } from 'modules/curations/types'\nimport { CollectionType } from 'modules/collection/types'\nimport CollectionStatus from 'components/CollectionStatus'\nimport CollectionImage from 'components/CollectionImage'\nimport { AssignModalOperationType } from 'components/Modals/EditCurationAssigneeModal/EditCurationAssigneeModal.types'\nimport Profile from 'components/Profile'\nimport { formatDistanceToNow } from 'lib/date'\nimport { Props } from './CollectionRow.types'\n\nimport './CollectionRow.css'\n\nexport default class CollectionRow extends React.PureComponent<Props> {\n  handleNavigateToForum = (event: React.MouseEvent<HTMLSpanElement, MouseEvent>) => {\n    const { collection } = this.props\n    window.open(collection.forumLink!, '_blank')\n    event.preventDefault()\n    event.stopPropagation()\n  }\n\n  handleAssign = (event: React.MouseEvent<HTMLSpanElement, MouseEvent>, type = AssignModalOperationType.SELF_ASSIGN) => {\n    const { onOpenModal, collection } = this.props\n    onOpenModal('EditCurationAssigneeModal', { collectionId: collection.id, type })\n    event.preventDefault()\n    event.stopPropagation()\n  }\n\n  handleTableRowClick = () => {\n    const { onNavigate, collection } = this.props\n    onNavigate(locations.itemEditor({ collectionId: collection.id, isReviewing: 'true' }))\n  }\n\n  renderCurationState = () => {\n    const { collection, curation } = this.props\n    const curationState = getCollectionCurationState(collection, curation)\n    switch (curationState) {\n      case CurationStatus.APPROVED:\n        return (\n          <div className=\"approved action\">\n            <span className=\"action-text\">{t('collection_row.approved')}</span> <Icon name=\"check\" />\n          </div>\n        )\n      case CurationStatus.REJECTED:\n        return (\n          <div className=\"rejected action\">\n            <span className=\"action-text\">{t('collection_row.rejected')}</span> <Icon name=\"close\" />\n          </div>\n        )\n      case CurationStatus.DISABLED:\n        return (\n          <div className=\"disabled action\">\n            <span className=\"action-text\">{t('collection_row.disabled')}</span> <Icon name=\"close\" />\n          </div>\n        )\n      case CurationStatus.UNDER_REVIEW:\n        return <span> {t('collection_row.under_review')}</span>\n\n      case CurationStatus.TO_REVIEW:\n        return <span> {t('collection_row.to_review')}</span>\n\n      default:\n        return <span> {t('collection_row.to_review')}</span>\n    }\n  }\n\n  render() {\n    const { address, collection, itemCount, curation } = this.props\n    const createdAtDate = new Date(curation?.createdAt || collection.createdAt)\n\n    return (\n      <Table.Row className=\"CollectionRow\" key={collection.id} onClick={this.handleTableRowClick}>\n        <Table.Cell width={5}>\n          <div className=\"image-column\">\n            <CollectionImage collectionId={collection.id} />\n            <div className=\"info\">\n              <div className=\"title\">\n                <CollectionStatus collection={collection} />\n                {collection.name}\n              </div>\n              <div className=\"subtitle name\">{t('collection_row.items', { count: itemCount })}</div>\n            </div>\n          </div>\n        </Table.Cell>\n        <Table.Cell width={2}>\n          <div>\n            {getCollectionType(collection) === CollectionType.THIRD_PARTY\n              ? t('collection_row.type_third_party')\n              : t('collection_row.type_standard')}\n          </div>\n        </Table.Cell>\n        <Table.Cell width={2}>\n          <div>{getCollectionType(collection) === CollectionType.THIRD_PARTY ? '-' : <Profile textOnly address={collection.owner} />}</div>\n        </Table.Cell>\n        <Table.Cell width={3}>\n          <div title={format(createdAtDate, 'd MMMM yyyy HH:mm')}>\n            <span>{t(curation ? 'collection_row.review_request' : 'collection_row.published')}</span>{' '}\n            {formatDistanceToNow(createdAtDate, { addSuffix: true })}\n          </div>\n        </Table.Cell>\n        <Table.Cell width={2}>\n          <div className=\"actions text-centered\">{this.renderCurationState()}</div>\n        </Table.Cell>\n        <Table.Cell width={2}>\n          <div className=\"edit-container\">\n            {curation?.assignee ? (\n              <>\n                <div className=\"curator-name\">\n                  <Profile textOnly address={curation.assignee} />\n                  {address === curation.assignee ? <> ({t('collection_row.you')})</> : null}{' '}\n                </div>\n                {curation.status !== CurationStatus.APPROVED || !collection.isApproved ? (\n                  <Icon\n                    name=\"pencil\"\n                    onClick={(e: React.MouseEvent<HTMLSpanElement>) => this.handleAssign(e, AssignModalOperationType.REASSIGN)}\n                  />\n                ) : null}\n              </>\n            ) : (\n              <div className=\"assignee-container\">\n                {t('collection_row.unassigned')}\n                <span className=\"link\" onClick={this.handleAssign}>\n                  {t('collection_row.assign_to_me')}\n                </span>\n              </div>\n            )}\n          </div>\n        </Table.Cell>\n        <Table.Cell width={2}>\n          <div className=\"text-centered\">\n            {collection.forumLink ? (\n              <span className=\"link\" onClick={this.handleNavigateToForum}>\n                {t('collection_row.link')}\n              </span>\n            ) : (\n              t('collection_row.no_forum_post')\n            )}\n          </div>\n        </Table.Cell>\n      </Table.Row>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}