{"ast":null,"code":"import _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport * as React from 'react';\n\nvar ItemProvider = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ItemProvider, _React$PureComponent);\n\n  function ItemProvider() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ItemProvider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ItemProvider)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loadedItemId: undefined\n    };\n    return _this;\n  }\n\n  _createClass(ItemProvider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          id = _this$props.id,\n          item = _this$props.item,\n          onFetchItem = _this$props.onFetchItem,\n          isConnected = _this$props.isConnected;\n\n      if (isConnected && id && !item) {\n        this.setState({\n          loadedItemId: id\n        }, function () {\n          return onFetchItem(id);\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          item = _this$props2.item,\n          onFetchItem = _this$props2.onFetchItem,\n          isConnected = _this$props2.isConnected;\n      var loadedItemId = this.state.loadedItemId;\n\n      if (isConnected && id && !item && loadedItemId !== id) {\n        this.setState({\n          loadedItemId: id\n        }, function () {\n          return onFetchItem(id);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          item = _this$props3.item,\n          collection = _this$props3.collection,\n          isLoading = _this$props3.isLoading,\n          children = _this$props3.children;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, children(item, collection, isLoading));\n    }\n  }]);\n\n  return ItemProvider;\n}(React.PureComponent);\n\nexport { ItemProvider as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/ItemProvider/ItemProvider.tsx"],"names":["React","ItemProvider","state","loadedItemId","undefined","props","id","item","onFetchItem","isConnected","setState","collection","isLoading","children","PureComponent"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;IAGqBC,Y;;;;;;;;;;;;;;;UACnBC,K,GAAe;AACbC,MAAAA,YAAY,EAAEC;AADD,K;;;;;;wCAIK;AAAA,wBAC6B,KAAKC,KADlC;AAAA,UACVC,EADU,eACVA,EADU;AAAA,UACNC,IADM,eACNA,IADM;AAAA,UACAC,WADA,eACAA,WADA;AAAA,UACaC,WADb,eACaA,WADb;;AAGlB,UAAIA,WAAW,IAAIH,EAAf,IAAqB,CAACC,IAA1B,EAAgC;AAC9B,aAAKG,QAAL,CAAc;AAAEP,UAAAA,YAAY,EAAEG;AAAhB,SAAd,EAAoC;AAAA,iBAAME,WAAW,CAACF,EAAD,CAAjB;AAAA,SAApC;AACD;AACF;;;yCAEoB;AAAA,yBAC4B,KAAKD,KADjC;AAAA,UACXC,EADW,gBACXA,EADW;AAAA,UACPC,IADO,gBACPA,IADO;AAAA,UACDC,WADC,gBACDA,WADC;AAAA,UACYC,WADZ,gBACYA,WADZ;AAAA,UAEXN,YAFW,GAEM,KAAKD,KAFX,CAEXC,YAFW;;AAInB,UAAIM,WAAW,IAAIH,EAAf,IAAqB,CAACC,IAAtB,IAA8BJ,YAAY,KAAKG,EAAnD,EAAuD;AACrD,aAAKI,QAAL,CAAc;AAAEP,UAAAA,YAAY,EAAEG;AAAhB,SAAd,EAAoC;AAAA,iBAAME,WAAW,CAACF,EAAD,CAAjB;AAAA,SAApC;AACD;AACF;;;6BAEQ;AAAA,yBAC2C,KAAKD,KADhD;AAAA,UACCE,IADD,gBACCA,IADD;AAAA,UACOI,UADP,gBACOA,UADP;AAAA,UACmBC,SADnB,gBACmBA,SADnB;AAAA,UAC8BC,QAD9B,gBAC8BA,QAD9B;AAEP,0BAAO,0CAAGA,QAAQ,CAACN,IAAD,EAAOI,UAAP,EAAmBC,SAAnB,CAAX,CAAP;AACD;;;;EAzBuCZ,KAAK,CAACc,a;;SAA3Bb,Y","sourcesContent":["import * as React from 'react'\nimport { Props, State } from './ItemProvider.types'\n\nexport default class ItemProvider extends React.PureComponent<Props, State> {\n  state: State = {\n    loadedItemId: undefined\n  }\n\n  componentDidMount() {\n    const { id, item, onFetchItem, isConnected } = this.props\n\n    if (isConnected && id && !item) {\n      this.setState({ loadedItemId: id }, () => onFetchItem(id))\n    }\n  }\n\n  componentDidUpdate() {\n    const { id, item, onFetchItem, isConnected } = this.props\n    const { loadedItemId } = this.state\n\n    if (isConnected && id && !item && loadedItemId !== id) {\n      this.setState({ loadedItemId: id }, () => onFetchItem(id))\n    }\n  }\n\n  render() {\n    const { item, collection, isLoading, children } = this.props\n    return <>{children(item, collection, isLoading)}</>\n  }\n}\n"]},"metadata":{},"sourceType":"module"}