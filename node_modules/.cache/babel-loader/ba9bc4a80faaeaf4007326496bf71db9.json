{"ast":null,"code":"import _toConsumableArray from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/Modals/EditCurationAssigneeModal/EditCurationAssigneeModal.tsx\";\nimport React from 'react';\nimport { ModalNavigation, Button, Form, SelectField } from 'decentraland-ui';\nimport Modal from 'decentraland-dapps/dist/containers/Modal';\nimport { t, T } from 'decentraland-dapps/dist/modules/translation/utils';\nimport { AssignModalOperationType } from './EditCurationAssigneeModal.types';\nimport './EditCurationAssigneeModal.css';\nvar UNASSIGN_PLACEHOLDER = 'unassign';\n\nvar EditCurationAssigneeModal = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(EditCurationAssigneeModal, _React$PureComponent);\n\n  function EditCurationAssigneeModal() {\n    var _getPrototypeOf2, _this$props$curation;\n\n    var _this;\n\n    _classCallCheck(this, EditCurationAssigneeModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EditCurationAssigneeModal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      assignee: ((_this$props$curation = _this.props.curation) === null || _this$props$curation === void 0 ? void 0 : _this$props$curation.assignee) || _this.props.address || null\n    };\n\n    _this.handleOnSubmit = function () {\n      var _this$props = _this.props,\n          onSetAssignee = _this$props.onSetAssignee,\n          metadata = _this$props.metadata,\n          curation = _this$props.curation;\n      var assignee = _this.state.assignee;\n      onSetAssignee(metadata.collectionId, assignee !== UNASSIGN_PLACEHOLDER ? assignee : null, curation);\n    };\n\n    _this.handleChangeAssignee = function (_event, target) {\n      _this.setState({\n        assignee: \"\".concat(target.value)\n      });\n    };\n\n    _this.handleClose = function () {\n      var onClose = _this.props.onClose;\n      onClose();\n    };\n\n    return _this;\n  }\n\n  _createClass(EditCurationAssigneeModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          name = _this$props2.name,\n          metadata = _this$props2.metadata,\n          isLoading = _this$props2.isLoading,\n          committeeMembers = _this$props2.committeeMembers,\n          collection = _this$props2.collection,\n          address = _this$props2.address,\n          profiles = _this$props2.profiles;\n      var type = metadata.type;\n      var assignee = this.state.assignee;\n      var isReassigning = type === AssignModalOperationType.REASSIGN;\n      return /*#__PURE__*/React.createElement(Modal, {\n        name: name,\n        onClose: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ModalNavigation, {\n        title: /*#__PURE__*/React.createElement(\"strong\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(T, {\n          id: \"curation_page.assign_modal.\".concat(type, \".title\"),\n          values: {\n            collection_name: collection === null || collection === void 0 ? void 0 : collection.name\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 15\n          }\n        })),\n        onClose: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.handleOnSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Content, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"details\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, isReassigning ? t('curation_page.assign_modal.reassign.body') : t('curation_page.assign_modal.self_assign.body', {\n        emphasis: /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 31\n          }\n        }, \" \", t('curation_page.assign_modal.self_assign.emphasis'), \" \")\n      })), isReassigning ? /*#__PURE__*/React.createElement(SelectField, {\n        loading: isLoading,\n        label: t('curation_page.curator'),\n        value: assignee !== null && assignee !== void 0 ? assignee : UNASSIGN_PLACEHOLDER,\n        options: [UNASSIGN_PLACEHOLDER].concat(_toConsumableArray(committeeMembers)).map(function (value) {\n          var _profiles$value$avata, _profiles$value;\n\n          return {\n            value: value,\n            text: value === UNASSIGN_PLACEHOLDER ? \"- \".concat(t('curation_page.assign_modal.unassign'), \" -\") : value === address ? \"\".concat(profiles[address] ? profiles[address].avatars[0].name : value, \" (\").concat(t('collection_row.you'), \")\") : (_profiles$value$avata = (_profiles$value = profiles[value]) === null || _profiles$value === void 0 ? void 0 : _profiles$value.avatars[0].name) !== null && _profiles$value$avata !== void 0 ? _profiles$value$avata : value\n          };\n        }),\n        onChange: this.handleChangeAssignee,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }\n      }) : null), /*#__PURE__*/React.createElement(Modal.Actions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        secondary: true,\n        onClick: this.handleClose,\n        type: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, t('global.cancel')), /*#__PURE__*/React.createElement(Button, {\n        primary: true,\n        type: \"submit\",\n        loading: isLoading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      }, t('global.confirm')))));\n    }\n  }]);\n\n  return EditCurationAssigneeModal;\n}(React.PureComponent);\n\nexport { EditCurationAssigneeModal as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/Modals/EditCurationAssigneeModal/EditCurationAssigneeModal.tsx"],"names":["React","ModalNavigation","Button","Form","SelectField","Modal","t","T","AssignModalOperationType","UNASSIGN_PLACEHOLDER","EditCurationAssigneeModal","state","assignee","props","curation","address","handleOnSubmit","onSetAssignee","metadata","collectionId","handleChangeAssignee","_event","target","setState","value","handleClose","onClose","name","isLoading","committeeMembers","collection","profiles","type","isReassigning","REASSIGN","collection_name","emphasis","map","text","avatars","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { ModalNavigation, Button, Form, SelectField, DropdownProps } from 'decentraland-ui'\nimport Modal from 'decentraland-dapps/dist/containers/Modal'\nimport { t, T } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { AssignModalOperationType, Props, State } from './EditCurationAssigneeModal.types'\nimport './EditCurationAssigneeModal.css'\n\nconst UNASSIGN_PLACEHOLDER = 'unassign'\n\nexport default class EditCurationAssigneeModal extends React.PureComponent<Props, State> {\n  state: State = {\n    assignee: this.props.curation?.assignee || this.props.address || null\n  }\n\n  handleOnSubmit = () => {\n    const { onSetAssignee, metadata, curation } = this.props\n    const { assignee } = this.state\n    onSetAssignee(metadata.collectionId, assignee !== UNASSIGN_PLACEHOLDER ? assignee : null, curation)\n  }\n\n  handleChangeAssignee = (_event: React.SyntheticEvent<HTMLElement, Event>, target: DropdownProps) => {\n    this.setState({ assignee: `${target.value}` })\n  }\n\n  handleClose = () => {\n    const { onClose } = this.props\n    onClose()\n  }\n\n  render() {\n    const { name, metadata, isLoading, committeeMembers, collection, address, profiles } = this.props\n    const { type } = metadata\n    const { assignee } = this.state\n    const isReassigning = type === AssignModalOperationType.REASSIGN\n    return (\n      <Modal name={name} onClose={this.handleClose}>\n        <ModalNavigation\n          title={\n            <strong>\n              <T id={`curation_page.assign_modal.${type}.title`} values={{ collection_name: collection?.name }} />\n            </strong>\n          }\n          onClose={this.handleClose}\n        />\n        <Form onSubmit={this.handleOnSubmit}>\n          <Modal.Content>\n            <div className=\"details\">\n              {isReassigning\n                ? t('curation_page.assign_modal.reassign.body')\n                : t('curation_page.assign_modal.self_assign.body', {\n                    emphasis: <b> {t('curation_page.assign_modal.self_assign.emphasis')} </b>\n                  })}\n            </div>\n            {isReassigning ? (\n              <SelectField\n                loading={isLoading}\n                label={t('curation_page.curator')}\n                value={assignee ?? UNASSIGN_PLACEHOLDER}\n                options={[UNASSIGN_PLACEHOLDER, ...committeeMembers].map(value => ({\n                  value,\n                  text:\n                    value === UNASSIGN_PLACEHOLDER\n                      ? `- ${t('curation_page.assign_modal.unassign')} -`\n                      : value === address\n                      ? `${profiles[address] ? profiles[address].avatars[0].name : value} (${t('collection_row.you')})`\n                      : profiles[value]?.avatars[0].name ?? value\n                }))}\n                onChange={this.handleChangeAssignee}\n              />\n            ) : null}\n          </Modal.Content>\n          <Modal.Actions>\n            <Button secondary onClick={this.handleClose} type=\"button\">\n              {t('global.cancel')}\n            </Button>\n            <Button primary type=\"submit\" loading={isLoading}>\n              {t('global.confirm')}\n            </Button>\n          </Modal.Actions>\n        </Form>\n      </Modal>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}