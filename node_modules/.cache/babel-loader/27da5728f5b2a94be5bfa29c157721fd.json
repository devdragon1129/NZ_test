{"ast":null,"code":"import _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/ItemDropdown/ItemDropdown.tsx\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport * as React from 'react';\nimport { Dropdown, Row } from 'decentraland-ui';\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils';\nimport { getThumbnailURL } from 'modules/item/utils';\nimport './ItemDropdown.css';\n\nvar ItemDropdown = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ItemDropdown, _React$PureComponent);\n\n  function ItemDropdown() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ItemDropdown);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ItemDropdown)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleChange = function (_event, props) {\n      var _this$props = _this.props,\n          items = _this$props.items,\n          onChange = _this$props.onChange;\n      var item = items.find(function (item) {\n        return item.id === props.value;\n      });\n\n      if (item) {\n        onChange(item);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ItemDropdown, [{\n    key: \"getOptions\",\n    value: function getOptions() {\n      var _this$props2 = this.props,\n          items = _this$props2.items,\n          filter = _this$props2.filter;\n      var filteredItems = filter ? items.filter(filter) : items;\n      var options = [];\n\n      var _iterator = _createForOfIteratorHelper(filteredItems),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          options.push({\n            value: item.id,\n            text: item.name,\n            image: getThumbnailURL(item)\n          });\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return options;\n    }\n  }, {\n    key: \"renderTrigger\",\n    value: function renderTrigger(options) {\n      var _this$props3 = this.props,\n          value = _this$props3.value,\n          placeholder = _this$props3.placeholder;\n      return value ? /*#__PURE__*/React.createElement(Row, {\n        className: \"selected-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: getThumbnailURL(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }\n      }, value.name)) : options.length > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"placeholder\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }\n      }, placeholder ? placeholder : /*#__PURE__*/React.createElement(React.Fragment, null, t('item_dropdown.placeholder'), \"\\u2026\")) : /*#__PURE__*/React.createElement(\"p\", {\n        className: \"no-items\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 7\n        }\n      }, t('item_dropdown.no_items'));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isDisabled = this.props.isDisabled;\n      var options = this.getOptions();\n      return /*#__PURE__*/React.createElement(Dropdown, {\n        className: \"ItemDropdown\",\n        trigger: this.renderTrigger(options),\n        inline: true,\n        direction: \"right\",\n        options: options,\n        onChange: this.handleChange,\n        scrolling: options.length > 4,\n        disabled: isDisabled || options.length <= 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return ItemDropdown;\n}(React.PureComponent);\n\nexport { ItemDropdown as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/ItemDropdown/ItemDropdown.tsx"],"names":["React","Dropdown","Row","t","getThumbnailURL","ItemDropdown","handleChange","_event","props","items","onChange","item","find","id","value","filter","filteredItems","options","push","text","name","image","placeholder","length","isDisabled","getOptions","renderTrigger","PureComponent"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { Dropdown, DropdownItemProps, DropdownProps, Row } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { getThumbnailURL } from 'modules/item/utils'\nimport { Props } from './ItemDropdown.types'\nimport './ItemDropdown.css'\n\nexport default class ItemDropdown extends React.PureComponent<Props> {\n  getOptions() {\n    const { items, filter } = this.props\n    const filteredItems = filter ? items.filter(filter) : items\n    const options: DropdownItemProps[] = []\n    for (const item of filteredItems) {\n      options.push({\n        value: item.id,\n        text: item.name,\n        image: getThumbnailURL(item)\n      })\n    }\n    return options\n  }\n\n  handleChange = (_event: React.SyntheticEvent<HTMLElement, Event>, props: DropdownProps) => {\n    const { items, onChange } = this.props\n    const item = items.find(item => item.id === props.value)\n    if (item) {\n      onChange(item)\n    }\n  }\n\n  renderTrigger(options: DropdownItemProps[]) {\n    const { value, placeholder } = this.props\n    return value ? (\n      <Row className=\"selected-item\">\n        <img src={getThumbnailURL(value)} />\n        <div className=\"name\">{value.name}</div>\n      </Row>\n    ) : options.length > 0 ? (\n      <p className=\"placeholder\">{placeholder ? placeholder : <>{t('item_dropdown.placeholder')}&hellip;</>}</p>\n    ) : (\n      <p className=\"no-items\">{t('item_dropdown.no_items')}</p>\n    )\n  }\n\n  render() {\n    const { isDisabled } = this.props\n    const options = this.getOptions()\n    return (\n      <Dropdown\n        className=\"ItemDropdown\"\n        trigger={this.renderTrigger(options)}\n        inline\n        direction=\"right\"\n        options={options}\n        onChange={this.handleChange}\n        scrolling={options.length > 4}\n        disabled={isDisabled || options.length <= 0}\n      />\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}