{"ast":null,"code":"import _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/CollectionDetailPage/CollectionItem/CollectionItem.tsx\";\nimport React from 'react';\nimport { Network } from '@dcl/schemas';\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils';\nimport { Grid, Dropdown, Icon, Button, Mana } from 'decentraland-ui';\nimport { Link } from 'react-router-dom';\nimport { fromWei } from 'web3x/utils';\nimport { locations } from 'routing/locations';\nimport { preventDefault } from 'lib/preventDefault';\nimport { isComplete, isFree, canMintItem, canManageItem, getMaxSupply } from 'modules/item/utils';\nimport ItemStatus from 'components/ItemStatus';\nimport { getExplorerURL, isLocked } from 'modules/collection/utils';\nimport ItemImage from 'components/ItemImage';\nimport ResetItemButton from './ResetItemButton';\nimport * as styles from './CollectionItem.module.css';\n\nvar CollectionItem = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(CollectionItem, _React$PureComponent);\n\n  function CollectionItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CollectionItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CollectionItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleEditPriceAndBeneficiary = function () {\n      var _this$props = _this.props,\n          onOpenModal = _this$props.onOpenModal,\n          item = _this$props.item;\n      onOpenModal('EditPriceAndBeneficiaryModal', {\n        itemId: item.id\n      });\n    };\n\n    _this.handleNavigateToExplorer = function () {\n      var item = _this.props.item;\n      var newWindow = window.open(getExplorerURL({\n        item_ids: [item.id]\n      }), '_blank');\n\n      if (newWindow) {\n        newWindow.focus();\n      }\n    };\n\n    _this.handleMintItem = function () {\n      var _this$props2 = _this.props,\n          onOpenModal = _this$props2.onOpenModal,\n          item = _this$props2.item;\n      onOpenModal('MintItemsModal', {\n        itemIds: [item.id]\n      });\n    };\n\n    _this.handleNavigateToEditor = function () {\n      var _this$props3 = _this.props,\n          onNavigate = _this$props3.onNavigate,\n          item = _this$props3.item;\n      onNavigate(locations.itemEditor({\n        itemId: item.id,\n        collectionId: item.collectionId\n      }));\n    };\n\n    _this.handleRemoveFromCollection = function () {\n      var _this$props4 = _this.props,\n          item = _this$props4.item,\n          onRemoveFromCollection = _this$props4.onRemoveFromCollection;\n      onRemoveFromCollection(item, null);\n    };\n\n    return _this;\n  }\n\n  _createClass(CollectionItem, [{\n    key: \"renderPrice\",\n    value: function renderPrice() {\n      var item = this.props.item;\n      return item.price ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }, isFree(item) ? t('global.free') : /*#__PURE__*/React.createElement(Mana, {\n        className: styles.mana,\n        network: Network.MATIC,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }\n      }, fromWei(item.price, 'ether'))), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.subtitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, t('item.price'))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"link \".concat(styles.linkAction),\n        onClick: preventDefault(this.handleEditPriceAndBeneficiary),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }\n      }, t('collection_item.set_price')), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.subtitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, t('item.price')));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          collection = _this$props5.collection,\n          item = _this$props5.item,\n          ethAddress = _this$props5.ethAddress;\n      var data = item.data;\n      return /*#__PURE__*/React.createElement(Link, {\n        to: locations.itemDetail(item.id),\n        className: \"CollectionItem\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        className: styles.grid,\n        columns: \"equal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Row, {\n        className: styles.row,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        className: \"\".concat(styles.column, \" \").concat(styles.avatarColumn),\n        width: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ItemImage, {\n        className: styles.itemImage,\n        item: item,\n        hasBadge: true,\n        badgeSize: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.info,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.nameWrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.name,\n        title: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(ItemStatus, {\n        className: styles.itemStatus,\n        item: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }), item.name)), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.subtitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, item.type))), /*#__PURE__*/React.createElement(Grid.Column, {\n        className: styles.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }\n      }, data.category ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 19\n        }\n      }, t(\"\".concat(item.type, \".category.\").concat(data.category))), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.subtitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 19\n        }\n      }, t('item.category'))) : null), /*#__PURE__*/React.createElement(Grid.Column, {\n        className: styles.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }, item.rarity ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 19\n        }\n      }, t(\"wearable.rarity.\".concat(item.rarity))), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.subtitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 19\n        }\n      }, t('item.rarity'))) : null), /*#__PURE__*/React.createElement(Grid.Column, {\n        className: styles.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }, this.renderPrice()), item.isPublished ? /*#__PURE__*/React.createElement(Grid.Column, {\n        className: styles.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 19\n        }\n      }, item.totalSupply, \"/\", getMaxSupply(item)), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.subtitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 19\n        }\n      }, t('item.supply')))) : null, /*#__PURE__*/React.createElement(Grid.Column, {\n        className: styles.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.itemActions,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }, canMintItem(collection, item, ethAddress) ? /*#__PURE__*/React.createElement(\"span\", {\n        onClick: preventDefault(this.handleMintItem),\n        className: \"link \".concat(styles.linkAction, \" \").concat(styles.action),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }\n      }, t('collection_item.mint_item')) : isComplete(item) ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(styles.done, \" \").concat(styles.action),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 19\n        }\n      }, t('collection_item.done'), \" \", /*#__PURE__*/React.createElement(Icon, {\n        className: styles.check,\n        name: \"check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 49\n        }\n      })) : /*#__PURE__*/React.createElement(\"span\", {\n        onClick: preventDefault(this.handleNavigateToEditor),\n        className: \"link \".concat(styles.linkAction, \" \").concat(styles.action),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 19\n        }\n      }, t('collection_item.edit_item')), /*#__PURE__*/React.createElement(Dropdown, {\n        trigger: /*#__PURE__*/React.createElement(Button, {\n          basic: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          name: \"ellipsis horizontal\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 23\n          }\n        })),\n        inline: true,\n        direction: \"left\",\n        className: styles.action,\n        onClick: preventDefault(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('collection_item.see_details'),\n        as: Link,\n        to: locations.itemDetail(item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('collection_context_menu.see_in_world'),\n        onClick: this.handleNavigateToExplorer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('global.open_in_editor'),\n        onClick: this.handleNavigateToEditor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }\n      }), canManageItem(collection, item, ethAddress) && !isLocked(collection) ? /*#__PURE__*/React.createElement(React.Fragment, null, item.price ? /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('collection_item.edit_price'),\n        onClick: this.handleEditPriceAndBeneficiary,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 27\n        }\n      }) : null, !item.isPublished ? /*#__PURE__*/React.createElement(Dropdown.Item, {\n        text: t('collection_item.remove_from_collection'),\n        onClick: this.handleRemoveFromCollection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 27\n        }\n      }) : null, /*#__PURE__*/React.createElement(ResetItemButton, {\n        itemId: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      })) : null)))))));\n    }\n  }]);\n\n  return CollectionItem;\n}(React.PureComponent);\n\nexport { CollectionItem as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/CollectionDetailPage/CollectionItem/CollectionItem.tsx"],"names":["React","Network","t","Grid","Dropdown","Icon","Button","Mana","Link","fromWei","locations","preventDefault","isComplete","isFree","canMintItem","canManageItem","getMaxSupply","ItemStatus","getExplorerURL","isLocked","ItemImage","ResetItemButton","styles","CollectionItem","handleEditPriceAndBeneficiary","props","onOpenModal","item","itemId","id","handleNavigateToExplorer","newWindow","window","open","item_ids","focus","handleMintItem","itemIds","handleNavigateToEditor","onNavigate","itemEditor","collectionId","handleRemoveFromCollection","onRemoveFromCollection","price","mana","MATIC","subtitle","linkAction","collection","ethAddress","data","itemDetail","grid","row","column","avatarColumn","itemImage","info","nameWrapper","name","itemStatus","type","category","rarity","renderPrice","isPublished","totalSupply","itemActions","action","done","check","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Network } from '@dcl/schemas'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Grid, Dropdown, Icon, Button, Mana } from 'decentraland-ui'\nimport { Link } from 'react-router-dom'\nimport { fromWei } from 'web3x/utils'\nimport { locations } from 'routing/locations'\nimport { preventDefault } from 'lib/preventDefault'\nimport { isComplete, isFree, canMintItem, canManageItem, getMaxSupply } from 'modules/item/utils'\nimport ItemStatus from 'components/ItemStatus'\nimport { getExplorerURL, isLocked } from 'modules/collection/utils'\nimport { WearableData } from 'modules/item/types'\nimport ItemImage from 'components/ItemImage'\nimport { Props } from './CollectionItem.types'\nimport ResetItemButton from './ResetItemButton'\nimport * as styles from './CollectionItem.module.css'\n\nexport default class CollectionItem extends React.PureComponent<Props> {\n  handleEditPriceAndBeneficiary = () => {\n    const { onOpenModal, item } = this.props\n    onOpenModal('EditPriceAndBeneficiaryModal', { itemId: item.id })\n  }\n\n  handleNavigateToExplorer = () => {\n    const { item } = this.props\n    const newWindow = window.open(getExplorerURL({ item_ids: [item.id] }), '_blank')\n    if (newWindow) {\n      newWindow.focus()\n    }\n  }\n\n  handleMintItem = () => {\n    const { onOpenModal, item } = this.props\n    onOpenModal('MintItemsModal', { itemIds: [item.id] })\n  }\n\n  handleNavigateToEditor = () => {\n    const { onNavigate, item } = this.props\n    onNavigate(locations.itemEditor({ itemId: item.id, collectionId: item.collectionId }))\n  }\n\n  handleRemoveFromCollection = () => {\n    const { item, onRemoveFromCollection } = this.props\n    onRemoveFromCollection(item!, null)\n  }\n\n  renderPrice() {\n    const { item } = this.props\n\n    return item.price ? (\n      <>\n        <div>\n          {isFree(item) ? (\n            t('global.free')\n          ) : (\n            <Mana className={styles.mana} network={Network.MATIC}>\n              {fromWei(item.price, 'ether')}\n            </Mana>\n          )}\n        </div>\n        <div className={styles.subtitle}>{t('item.price')}</div>\n      </>\n    ) : (\n      <>\n        <div className={`link ${styles.linkAction}`} onClick={preventDefault(this.handleEditPriceAndBeneficiary)}>\n          {t('collection_item.set_price')}\n        </div>\n        <div className={styles.subtitle}>{t('item.price')}</div>\n      </>\n    )\n  }\n\n  render() {\n    const { collection, item, ethAddress } = this.props\n    const data = item.data as WearableData\n\n    return (\n      <Link to={locations.itemDetail(item.id)} className=\"CollectionItem\">\n        <Grid className={styles.grid} columns=\"equal\">\n          <Grid.Row className={styles.row}>\n            <Grid.Column className={`${styles.column} ${styles.avatarColumn}`} width={5}>\n              <ItemImage className={styles.itemImage} item={item} hasBadge badgeSize=\"small\" />\n              <div className={styles.info}>\n                <div className={styles.nameWrapper}>\n                  <div className={styles.name} title={item.name}>\n                    <ItemStatus className={styles.itemStatus} item={item} />\n                    {item.name}\n                  </div>\n                </div>\n                <div className={styles.subtitle}>{item.type}</div>\n              </div>\n            </Grid.Column>\n            <Grid.Column className={styles.column}>\n              {data.category ? (\n                <>\n                  <div>{t(`${item.type}.category.${data.category}`)}</div>\n                  <div className={styles.subtitle}>{t('item.category')}</div>\n                </>\n              ) : null}\n            </Grid.Column>\n            <Grid.Column className={styles.column}>\n              {item.rarity ? (\n                <>\n                  <div>{t(`wearable.rarity.${item.rarity}`)}</div>\n                  <div className={styles.subtitle}>{t('item.rarity')}</div>\n                </>\n              ) : null}\n            </Grid.Column>\n            <Grid.Column className={styles.column}>{this.renderPrice()}</Grid.Column>\n            {item.isPublished ? (\n              <Grid.Column className={styles.column}>\n                <>\n                  <div>\n                    {item.totalSupply}/{getMaxSupply(item)}\n                  </div>\n                  <div className={styles.subtitle}>{t('item.supply')}</div>\n                </>\n              </Grid.Column>\n            ) : null}\n            <Grid.Column className={styles.column}>\n              <div className={styles.itemActions}>\n                {canMintItem(collection, item, ethAddress) ? (\n                  <span onClick={preventDefault(this.handleMintItem)} className={`link ${styles.linkAction} ${styles.action}`}>\n                    {t('collection_item.mint_item')}\n                  </span>\n                ) : isComplete(item) ? (\n                  <div className={`${styles.done} ${styles.action}`}>\n                    {t('collection_item.done')} <Icon className={styles.check} name=\"check\" />\n                  </div>\n                ) : (\n                  <span onClick={preventDefault(this.handleNavigateToEditor)} className={`link ${styles.linkAction} ${styles.action}`}>\n                    {t('collection_item.edit_item')}\n                  </span>\n                )}\n                <Dropdown\n                  trigger={\n                    <Button basic>\n                      <Icon name=\"ellipsis horizontal\" />\n                    </Button>\n                  }\n                  inline\n                  direction=\"left\"\n                  className={styles.action}\n                  onClick={preventDefault()}\n                >\n                  <Dropdown.Menu>\n                    <Dropdown.Item text={t('collection_item.see_details')} as={Link} to={locations.itemDetail(item.id)} />\n                    <Dropdown.Item text={t('collection_context_menu.see_in_world')} onClick={this.handleNavigateToExplorer} />\n                    <Dropdown.Item text={t('global.open_in_editor')} onClick={this.handleNavigateToEditor} />\n                    {canManageItem(collection, item, ethAddress) && !isLocked(collection) ? (\n                      <>\n                        {item.price ? (\n                          <Dropdown.Item text={t('collection_item.edit_price')} onClick={this.handleEditPriceAndBeneficiary} />\n                        ) : null}\n                        {!item.isPublished ? (\n                          <Dropdown.Item text={t('collection_item.remove_from_collection')} onClick={this.handleRemoveFromCollection} />\n                        ) : null}\n                        <ResetItemButton itemId={item.id} />\n                      </>\n                    ) : null}\n                  </Dropdown.Menu>\n                </Dropdown>\n              </div>\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </Link>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}