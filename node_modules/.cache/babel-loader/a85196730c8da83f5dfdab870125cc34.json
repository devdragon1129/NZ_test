{"ast":null,"code":"import _classCallCheck from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/work/NZ_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/work/NZ_test/src/components/LayoutPicker/LayoutPicker.tsx\";\nimport * as React from 'react';\nimport { Icon } from 'decentraland-ui';\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils';\nimport SquaresGrid from 'components/SquaresGrid';\nimport { preventDefault } from 'lib/preventDefault';\nimport './LayoutPicker.css';\n\nvar LayoutPicker = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(LayoutPicker, _React$PureComponent);\n\n  function LayoutPicker() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LayoutPicker);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LayoutPicker)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.getValue = function (e) {\n      var value = e.target.value.trim(); // TODO review this\n\n      return value ? Math.floor(Number(value) || 1) : 1;\n    };\n\n    _this.handleChangeCols = function (e) {\n      var _this$props = _this.props,\n          rows = _this$props.rows,\n          onChange = _this$props.onChange;\n\n      var cols = _this.getValue(e);\n\n      onChange(rows, cols);\n    };\n\n    _this.handleChangeRows = function (e) {\n      var _this$props2 = _this.props,\n          cols = _this$props2.cols,\n          onChange = _this$props2.onChange;\n\n      var rows = _this.getValue(e);\n\n      onChange(rows, cols);\n    };\n\n    _this.disableScroll = function (ref) {\n      if (ref) {\n        ref.addEventListener('mousewheel', preventDefault());\n      }\n    };\n\n    _this.getSize = function () {\n      var _this$props3 = _this.props,\n          rows = _this$props3.rows,\n          cols = _this$props3.cols;\n      var size = Math.max(rows, cols);\n\n      if (size <= 4) {\n        return 'big';\n      } else if (size <= 6) {\n        return 'medium';\n      } else if (size <= 12) {\n        return 'small';\n      } else {\n        return 'tiny';\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(LayoutPicker, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          rows = _this$props4.rows,\n          cols = _this$props4.cols,\n          errorMessage = _this$props4.errorMessage,\n          showGrid = _this$props4.showGrid;\n      var classes = 'LayoutPicker';\n\n      if (errorMessage) {\n        classes += ' error';\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }, showGrid ? errorMessage ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"layout-error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        name: \"warning sign\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      })) : /*#__PURE__*/React.createElement(SquaresGrid, {\n        size: this.getSize(),\n        rows: rows,\n        cols: cols,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }\n      }) : null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputs\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"rows-input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }\n      }, t('layout_picker.rows')), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"rows-input\",\n        type: \"number\",\n        defaultValue: rows.toString(),\n        onChange: this.handleChangeRows,\n        ref: this.disableScroll,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"times\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"cols-input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }\n      }, t('layout_picker.columns')), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"cols-input\",\n        type: \"number\",\n        defaultValue: cols.toString(),\n        onChange: this.handleChangeCols,\n        ref: this.disableScroll,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }\n      })))), errorMessage ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"LayoutPickerError\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }\n      }, errorMessage) : null);\n    }\n  }]);\n\n  return LayoutPicker;\n}(React.PureComponent);\n\nexport { LayoutPicker as default };","map":{"version":3,"sources":["/opt/work/NZ_test/src/components/LayoutPicker/LayoutPicker.tsx"],"names":["React","Icon","t","SquaresGrid","preventDefault","LayoutPicker","getValue","e","value","target","trim","Math","floor","Number","handleChangeCols","props","rows","onChange","cols","handleChangeRows","disableScroll","ref","addEventListener","getSize","size","max","errorMessage","showGrid","classes","toString","PureComponent"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { Icon } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport SquaresGrid from 'components/SquaresGrid'\nimport { preventDefault } from 'lib/preventDefault'\nimport { Props } from './LayoutPicker.types'\n\nimport './LayoutPicker.css'\n\nexport default class LayoutPicker extends React.PureComponent<Props> {\n  getValue = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.trim()\n    // TODO review this\n    return value ? Math.floor(Number(value) || 1) : 1\n  }\n\n  handleChangeCols = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { rows, onChange } = this.props\n    const cols = this.getValue(e)\n    onChange(rows, cols)\n  }\n\n  handleChangeRows = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { cols, onChange } = this.props\n    const rows = this.getValue(e)\n    onChange(rows, cols)\n  }\n\n  disableScroll = (ref: HTMLInputElement | null) => {\n    if (ref) {\n      ref.addEventListener('mousewheel', preventDefault())\n    }\n  }\n\n  getSize = () => {\n    const { rows, cols } = this.props\n    const size = Math.max(rows, cols)\n    if (size <= 4) {\n      return 'big'\n    } else if (size <= 6) {\n      return 'medium'\n    } else if (size <= 12) {\n      return 'small'\n    } else {\n      return 'tiny'\n    }\n  }\n\n  render() {\n    const { rows, cols, errorMessage, showGrid } = this.props\n    let classes = 'LayoutPicker'\n    if (errorMessage) {\n      classes += ' error'\n    }\n    return (\n      <>\n        <div className={classes}>\n          {showGrid ? (\n            errorMessage ? (\n              <div className=\"layout-error\">\n                <Icon name=\"warning sign\" />\n              </div>\n            ) : (\n              <SquaresGrid size={this.getSize()} rows={rows} cols={cols} />\n            )\n          ) : null}\n          <div className=\"inputs\">\n            <div className=\"input\">\n              <label htmlFor=\"rows-input\">{t('layout_picker.rows')}</label>\n              <input\n                id=\"rows-input\"\n                type=\"number\"\n                defaultValue={rows.toString()}\n                onChange={this.handleChangeRows}\n                ref={this.disableScroll}\n              />\n            </div>\n            <i className=\"times\" />\n            <div className=\"input\">\n              <label htmlFor=\"cols-input\">{t('layout_picker.columns')}</label>\n              <input\n                id=\"cols-input\"\n                type=\"number\"\n                defaultValue={cols.toString()}\n                onChange={this.handleChangeCols}\n                ref={this.disableScroll}\n              />\n            </div>\n          </div>\n        </div>\n        {errorMessage ? <div className=\"LayoutPickerError\">{errorMessage}</div> : null}\n      </>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}